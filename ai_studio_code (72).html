<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ø·ÙÙ„ÙŠ Ø§Ù„Ù…Ø³Ù„Ù… - Ø±ÙÙŠÙ‚Ùƒ Ø§Ù„Ø¥ÙŠÙ…Ø§Ù†ÙŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap');
        body { font-family: 'Amiri', serif; -webkit-tap-highlight-color: transparent; }
        .quran-text { font-size: 1.6rem; line-height: 2.8; text-align: right; }
        .verse-container { display: flex; align-items: center; justify-content: space-between; background: #fff; border: 1px solid #e5e7eb; padding: 0.75rem 1.25rem; border-radius: 0.75rem; margin: 0.5rem 0; transition: all 0.3s ease; border-right-width: 5px; border-right-color: transparent; }
        .verse-container.mastered-verse { border-right-color: #10b981; background-color: #f0fdf4; }
        .verse-container.review-verse { border-right-color: #f59e0b; background-color: #fffbeb; }
        .verse-container.playing-verse { background: linear-gradient(120deg, #fef3c7 0%, #fde68a 100%); transform: scale(1.02); box-shadow: 0 4px 15px rgba(252, 211, 77, 0.4); }
        .bookmark-icon { cursor: pointer; font-size: 1.5rem; opacity: 0.5; transition: all 0.2s; }
        .bookmark-icon:hover { opacity: 1; transform: scale(1.2); }
        .nav-bottom { position: fixed; bottom: 0; left: 0; right: 0; background: linear-gradient(to right, #10b981, #3b82f6); backdrop-filter: blur(10px); z-index: 50; }
        .nav-item { display: flex; flex-direction: column; align-items: center; padding: 0.5rem; color: white; transition: all 0.3s ease; cursor: pointer; flex: 1; }
        .nav-item.active { background: rgba(255, 255, 255, 0.2); border-radius: 1rem 1rem 0 0; }
        .nav-text { font-size: 0.75rem; }
        .main-content { padding-bottom: 7rem; }
        .floating-animation { animation: float 3s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }
        .stats-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 1rem; padding: 1rem; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .game-option-btn { width: 100%; text-align: right; background-color: white; border: 2px solid #ddd; padding: 1rem; border-radius: 0.75rem; font-size: 1.1rem; font-weight: bold; transition: all 0.2s ease; }
        .recording-active { color: red; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
        .guide-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 100; display: flex; align-items: center; justify-content: center; padding: 1rem; }
        .guide-content { background: white; border-radius: 1.5rem; padding: 2rem; width: 100%; max-width: 400px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Splash Screen -->
    <div id="splashScreen" class="fixed inset-0 flex items-center justify-center z-[100] bg-gradient-to-br from-blue-500 to-purple-600">
        <div class="text-center text-white"><div class="text-8xl mb-6 floating-animation">ğŸŒ™</div><h1 class="text-4xl font-bold mb-4" style="animation: fadeIn 1s ease-in-out;">Ø·ÙÙ„ÙŠ Ø§Ù„Ù…Ø³Ù„Ù…</h1><p class="text-xl mb-8" style="animation: fadeIn 1s ease-in-out 0.5s;">Ø±ÙÙŠÙ‚Ùƒ Ø§Ù„Ø¥ÙŠÙ…Ø§Ù†ÙŠ</p><div class="w-64 h-2 bg-white bg-opacity-30 rounded-full mx-auto"><div id="loadingBar" class="h-2 bg-white rounded-full transition-all duration-1000" style="width: 0%"></div></div></div>
    </div>
    
    <!-- Main Application -->
    <div id="mainApp" class="hidden">
        <header class="bg-gradient-to-r from-green-600 to-blue-600 text-white p-4 shadow-lg sticky top-0 z-40">
            <div class="container mx-auto flex items-center justify-between"><div class="flex items-center space-x-3 space-x-reverse"><div class="text-3xl">ğŸŒ™</div><div><h1 class="text-xl font-bold">Ø·ÙÙ„ÙŠ Ø§Ù„Ù…Ø³Ù„Ù…</h1><p class="text-sm opacity-80">Ù…Ø±Ø­Ø¨Ø§Ù‹, <span id="childName" class="font-bold">ÙŠØ§ ØµØ¯ÙŠÙ‚ÙŠ</span></p></div></div><div class="flex items-center gap-2 bg-yellow-400 text-yellow-900 font-bold px-3 py-1 rounded-full"><span>ğŸ†</span><span id="pointsDisplay">0</span></div></div>
        </header>
        
        <main class="main-content container mx-auto px-4 py-6">
            <section id="home" class="section-content"></section>
            <section id="quran" class="section-content hidden"></section>
            <section id="stories" class="section-content hidden"></section>
            <section id="duas" class="section-content hidden"></section>
            <section id="worship" class="section-content hidden"></section>
            <section id="asma" class="section-content hidden"></section>
            <section id="profile" class="section-content hidden"></section>
            <section id="games" class="section-content hidden"></section>
        </main>
        
        <nav class="nav-bottom">
            <div class="flex">
                <div class="nav-item active" onclick="showSection('home')">ğŸ <span class="nav-text">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></div>
                <div class="nav-item" onclick="showSection('quran')">ğŸ“–<span class="nav-text">Ø§Ù„Ù‚Ø±Ø¢Ù†</span></div>
                <div class="nav-item" onclick="showSection('stories')">ğŸ“š<span class="nav-text">Ø§Ù„Ù‚ØµØµ</span></div>
                <div class="nav-item" onclick="showSection('duas')">ğŸ¤²<span class="nav-text">Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©</span></div>
                <div class="nav-item" onclick="showSection('worship')">ğŸ•Œ<span class="nav-text">Ø¹Ø¨Ø§Ø¯Ø§ØªÙŠ</span></div>
                <div class="nav-item" onclick="showSection('asma')">ğŸ’–<span class="nav-text">Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ù‡</span></div>
                <div class="nav-item" onclick="showSection('profile')">ğŸ‘¤<span class="nav-text">Ù…Ù„ÙÙŠ</span></div>
                <div class="nav-item" onclick="showSection('games')">ğŸ®<span class="nav-text">Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</span></div>
            </div>
        </nav>
    </div>
    
    <div id="guideModal" class="guide-modal hidden"></div>

<script>
    // --- GLOBAL STATE & DATA ---
    const audioPlayer = new Audio();
    let currentPlaylist = [], currentTrackIndex = 0, isPlaying = false;
    let mediaRecorder, audioChunks = [], isCurrentlyRecording = false;
    let dailyProgress = { date: '', prayersMarkedToday: [], deedsMarkedToday: [] }; // Updated for new logic
    let currentGuideData = null, currentGuideStep = 0;
    let allSurahsMeta = []; // Fetched from API

    // Placeholder for audio feedback for games - REPLACE WITH ACTUAL SOUND FILE URLS
    const gameSoundCorrect = new Audio('https://cdn.pixabay.com/download/audio/2023/06/16/audio_0a3d3d92d5.mp3'); // Example sound for correct answer
    const gameSoundIncorrect = new Audio('https://cdn.pixabay.com/download/audio/2023/07/14/audio_b9f742291b.mp3'); // Example sound for incorrect answer
    const gameSoundPlay = new Audio(); // Audio player for Quranic recitations in games

    let userState = {
        points: 0,
        unlockedAchievements: [],
        childAvatar: 'ğŸ˜Š',
        guidesCompleted: [],
        storiesRead: 0,
        versesRecorded: 0,
        learnedAsma: [], // Stores indices of learned Asma
        hifzProgress: {}, // e.g., { '1-1': 'mastered', '1-2': 'review' }
        // Worship specific states
        prayerStreak: 0,
        lastPrayerStreakDate: null,
        dailyTargetDeeds: 3, // Default target for daily good deeds
        achievedDailyPrayerGoalToday: false,
        achievedDailyDeedGoalToday: false
    };

    // --- EDUCATIONAL & GAME DATA ---
    const dailyAyahs = ["ÙˆÙÙ…ÙÙ† ÙŠÙØªÙ‘ÙÙ‚Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙŠÙØ¬Ù’Ø¹ÙÙ„ Ù„Ù‘ÙÙ‡Ù Ù…ÙØ®Ù’Ø±ÙØ¬Ù‹Ø§", "Ø¥ÙÙ†Ù‘Ù Ù…ÙØ¹Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§", "ÙÙØ§Ø°Ù’ÙƒÙØ±ÙÙˆÙ†ÙÙŠ Ø£ÙØ°Ù’ÙƒÙØ±Ù’ÙƒÙÙ…Ù’", "ÙˆÙÙ‚ÙÙˆÙ„ÙÙˆØ§ Ù„ÙÙ„Ù†Ù‘ÙØ§Ø³Ù Ø­ÙØ³Ù’Ù†Ù‹Ø§", "Ù„ÙØ¦ÙÙ† Ø´ÙÙƒÙØ±Ù’ØªÙÙ…Ù’ Ù„ÙØ£ÙØ²ÙÙŠØ¯ÙÙ†Ù‘ÙÙƒÙÙ…Ù’"];
    const dailyDuasData = ["Ø±ÙØ¨Ù‘ÙÙ†ÙØ§ Ø¢ØªÙÙ†ÙØ§ ÙÙÙŠ Ø§Ù„Ø¯Ù‘ÙÙ†Ù’ÙŠÙØ§ Ø­ÙØ³ÙÙ†ÙØ©Ù‹ ÙˆÙÙÙÙŠ Ø§Ù„Ù’Ø¢Ø®ÙØ±ÙØ©Ù Ø­ÙØ³ÙÙ†ÙØ©Ù‹ ÙˆÙÙ‚ÙÙ†ÙØ§ Ø¹ÙØ°ÙØ§Ø¨Ù Ø§Ù„Ù†Ù‘ÙØ§Ø±Ù", "Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¥ÙÙ†Ù‘ÙÙŠ Ø£ÙØ³Ù’Ø£ÙÙ„ÙÙƒÙ Ø¹ÙÙ„Ù’Ù…Ù‹Ø§ Ù†ÙØ§ÙÙØ¹Ù‹Ø§ØŒ ÙˆÙØ±ÙØ²Ù’Ù‚Ù‹Ø§ Ø·ÙÙŠÙ‘ÙØ¨Ù‹Ø§ØŒ ÙˆÙØ¹ÙÙ…ÙÙ„Ù‹Ø§ Ù…ÙØªÙÙ‚ÙØ¨Ù‘ÙÙ„Ù‹Ø§", "Ø±ÙØ¨Ù‘Ù Ø§Ø´Ù’Ø±ÙØ­Ù’ Ù„ÙÙŠ ØµÙØ¯Ù’Ø±ÙÙŠ ÙˆÙÙŠÙØ³Ù‘ÙØ±Ù’ Ù„ÙÙŠ Ø£ÙÙ…Ù’Ø±ÙÙŠ"];
    const storiesData = [{id:"adam",title:"Ø¢Ø¯ÙÙ…",icon:"ğŸ‘¤",content:"Ø£ÙˆÙ„ Ø§Ù„Ø¨Ø´Ø±ØŒ Ø®Ù„Ù‚Ù‡ Ø§Ù„Ù„Ù‡ Ù…Ù† Ø·ÙŠÙ† ÙˆØ¹Ù„Ù…Ù‡ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ ÙƒÙ„Ù‡Ø§."},{id:"idris",title:"Ø¥ÙØ¯Ù’Ø±ÙÙŠØ³",icon:"âœ’ï¸",content:"Ø£ÙˆÙ„ Ù…Ù† Ø®Ø· Ø¨Ø§Ù„Ù‚Ù„Ù…ØŒ Ø±ÙØ¹Ù‡ Ø§Ù„Ù„Ù‡ Ù…ÙƒØ§Ù†Ø§Ù‹ Ø¹Ù„ÙŠØ§Ù‹."},{id:"nuh",title:"Ù†ÙÙˆØ­",icon:"ğŸš¢",content:"Ø¯Ø¹Ø§ Ù‚ÙˆÙ…Ù‡ 950 Ø³Ù†Ø©ØŒ ÙˆØ¨Ù†Ù‰ Ø§Ù„Ø³ÙÙŠÙ†Ø© Ù„ÙŠÙ†Ø¬Ùˆ ÙˆØ§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ† Ù…Ù† Ø§Ù„Ø·ÙˆÙØ§Ù†."},{id:"hud",title:"Ù‡ÙÙˆØ¯",icon:"ğŸŒ¬ï¸",content:"Ø£ÙØ±Ø³Ù„ Ø¥Ù„Ù‰ Ù‚ÙˆÙ… Ø¹Ø§Ø¯ØŒ Ø§Ù„Ø°ÙŠÙ† Ø£Ù‡Ù„ÙƒÙ‡Ù… Ø§Ù„Ù„Ù‡ Ø¨Ø§Ù„Ø±ÙŠØ­ Ø§Ù„Ø´Ø¯ÙŠØ¯Ø©."},{id:"salih",title:"ØµÙØ§Ù„ÙØ­",icon:"ğŸ«",content:"Ø£ÙØ±Ø³Ù„ Ø¥Ù„Ù‰ Ø«Ù…ÙˆØ¯ØŒ ÙˆØ¢ÙŠØªÙ‡ Ø§Ù„Ù†Ø§Ù‚Ø© Ø§Ù„ØªÙŠ Ù‚ØªÙ„ÙˆÙ‡Ø§ ÙØ£Ø®Ø°ØªÙ‡Ù… Ø§Ù„ØµÙŠØ­Ø©."},{id:"ibrahim",title:"Ø¥ÙØ¨Ù’Ø±ÙØ§Ù‡ÙÙŠÙ…",icon:"ğŸ”¥",content:"Ø£Ø¨Ùˆ Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡ØŒ Ø¨Ù†Ù‰ Ø§Ù„ÙƒØ¹Ø¨Ø©ØŒ ÙˆÙ†Ø¬Ø§Ù‡ Ø§Ù„Ù„Ù‡ Ù…Ù† Ø§Ù„Ù†Ø§Ø±."},{id:"lut",title:"Ù„ÙÙˆØ·",icon:"ğŸ˜ï¸",content:"Ø¯Ø¹Ø§ Ù‚ÙˆÙ…Ù‡ Ù„ØªØ±Ùƒ Ø§Ù„ÙÙˆØ§Ø­Ø´ØŒ ÙØ£Ù‡Ù„ÙƒÙ‡Ù… Ø§Ù„Ù„Ù‡ Ø¨Ù…Ø·Ø± Ù…Ù† Ø­Ø¬Ø§Ø±Ø©."},{id:"ismail",title:"Ø¥ÙØ³Ù’Ù…ÙØ§Ø¹ÙÙŠÙ„",icon:"ğŸ‘",content:"Ø§Ø¨Ù† Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…ØŒ ÙØ¯Ø§Ù‡ Ø§Ù„Ù„Ù‡ Ø¨ÙƒØ¨Ø´ Ø¹Ø¸ÙŠÙ… Ù…Ù† Ø§Ù„Ø°Ø¨Ø­."},{id:"ishaq",title:"Ø¥ÙØ³Ù’Ø­ÙØ§Ù‚",icon:"ğŸ‘¨â€ğŸ‘¦",content:"Ø§Ø¨Ù† Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…ØŒ ÙˆÙ…Ù† Ù†Ø³Ù„Ù‡ Ø¬Ø§Ø¡ Ø£Ù†Ø¨ÙŠØ§Ø¡ Ø¨Ù†ÙŠ Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„."},{id:"yaqub",title:"ÙŠÙØ¹Ù’Ù‚ÙÙˆØ¨",icon:"ğŸªœ",content:"Ø§Ø³Ù…Ù‡ Ø£ÙŠØ¶Ø§Ù‹ Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„ØŒ ÙˆÙ‡Ùˆ Ø£Ø¨Ùˆ Ø§Ù„Ø£Ø³Ø¨Ø§Ø· Ø§Ù„Ø§Ø«Ù†ÙŠ Ø¹Ø´Ø±."},{id:"yusuf",title:"ÙŠÙÙˆØ³ÙÙ",icon:"âœ¨",content:"Ø¹ÙØ±Ù Ø¨Ø¬Ù…Ø§Ù„Ù‡ ÙˆØ­ÙƒÙ…ØªÙ‡ØŒ ÙˆØ£ØµØ¨Ø­ Ø¹Ø²ÙŠØ² Ù…ØµØ± Ø¨Ø¹Ø¯ Ù…Ø­Ù†Ø© Ø·ÙˆÙŠÙ„Ø©."},{id:"ayyub",title:"Ø£ÙÙŠÙ‘ÙÙˆØ¨",icon:"ğŸ¤•",content:"ØµØ¨Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø¶ ÙˆÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø£Ù‡Ù„ ÙˆØ§Ù„Ù…Ø§Ù„ØŒ ÙÙƒØ§ÙØ£Ù‡ Ø§Ù„Ù„Ù‡."},{id:"shuaib",title:"Ø´ÙØ¹ÙÙŠÙ’Ø¨",icon:"âš–ï¸",content:"Ø£ÙØ±Ø³Ù„ Ø¥Ù„Ù‰ Ø£Ù‡Ù„ Ù…Ø¯ÙŠÙ†ØŒ ÙˆØ¯Ø¹Ø§Ù‡Ù… Ù„Ù„Ø¹Ø¯Ù„ ÙÙŠ Ø§Ù„Ù…ÙŠØ²Ø§Ù†."},{id:"musa",title:"Ù…ÙÙˆØ³ÙÙ‰",icon:"ğŸŒŠ",content:"ÙƒÙ„Ù… Ø§Ù„Ù„Ù‡ØŒ ÙˆÙ†Ø¬Ø§Ù‡ ÙˆÙ‚ÙˆÙ…Ù‡ Ù…Ù† ÙØ±Ø¹ÙˆÙ† Ø¨Ø´Ù‚ Ø§Ù„Ø¨Ø­Ø±."},{id:"harun",title:"Ù‡ÙØ§Ø±ÙÙˆÙ†",icon:"ğŸ—£ï¸",content:"Ø£Ø®Ùˆ Ù…ÙˆØ³Ù‰ØŒ ÙƒØ§Ù† ÙØµÙŠØ­ Ø§Ù„Ù„Ø³Ø§Ù† ÙˆØ³Ø§Ø¹Ø¯Ù‡ ÙÙŠ Ø¯Ø¹ÙˆØªÙ‡."},{id:"dhulkifl",title:"Ø°ÙÙˆ Ø§Ù„Ù’ÙƒÙÙÙ’Ù„",icon:"ğŸ¤²",content:"Ù…Ù† Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡ Ø§Ù„ØµØ§Ø¨Ø±ÙŠÙ†ØŒ ÙˆØªÙƒÙÙ„ Ø¨Ø£Ù…ÙˆØ± Ù‚ÙˆÙ…Ù‡."},{id:"dawud",title:"Ø¯ÙØ§ÙˆÙÙˆØ¯",icon:"ğŸ›¡ï¸",content:"Ø¢ØªØ§Ù‡ Ø§Ù„Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆØ§Ù„Ø­ÙƒÙ…Ø©ØŒ ÙˆØ£Ù„ÙØ§Ù†Ù Ù„Ù‡ Ø§Ù„Ø­Ø¯ÙŠØ¯."},{id:"sulaiman",title:"Ø³ÙÙ„ÙÙŠÙ’Ù…ÙØ§Ù†",icon:"ğŸ‘‘",content:"ÙˆØ±Ø« Ø¯Ø§ÙˆÙˆØ¯ØŒ ÙˆØ¹Ù„Ù…Ù‡ Ø§Ù„Ù„Ù‡ Ù„ØºØ© Ø§Ù„Ø·ÙŠØ± ÙˆØ§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª ÙˆØ³Ø®Ø± Ù„Ù‡ Ø§Ù„Ø¬Ù† ÙˆØ§Ù„Ø±ÙŠØ­."},{id:"ilyas",title:"Ø¥ÙÙ„Ù’ÙŠÙØ§Ø³",icon:"â›°ï¸",content:"Ø¯Ø¹Ø§ Ù‚ÙˆÙ…Ù‡ Ù„Ø¹Ø¨Ø§Ø¯Ø© Ø§Ù„Ù„Ù‡ ÙˆØªØ±Ùƒ Ø¹Ø¨Ø§Ø¯Ø© ØµÙ†Ù… Ø§Ø³Ù…Ù‡ Ø¨Ø¹Ù„."},{id:"alyasa",title:"Ø§Ù„Ù’ÙŠÙØ³ÙØ¹",icon:"ğŸ™",content:"Ù…Ù† Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡ Ø§Ù„Ø£Ø®ÙŠØ§Ø± Ø§Ù„Ø°ÙŠÙ† Ø®Ù„ÙÙˆØ§ Ø¥Ù„ÙŠØ§Ø³ ÙÙŠ Ù‚ÙˆÙ…Ù‡."},{id:"yunus",title:"ÙŠÙÙˆÙ†ÙØ³",icon:"ğŸ³",content:"Ø§Ø¨ØªÙ„Ø¹Ù‡ Ø§Ù„Ø­ÙˆØª Ø«Ù… Ù†Ø¬Ø§Ù‡ Ø§Ù„Ù„Ù‡ Ø¨Ø¯Ø¹Ø§Ø¦Ù‡."},{id:"zakariya",title:"Ø²ÙÙƒÙØ±ÙÙŠÙ‘ÙØ§",icon:"ğŸ™Œ",content:"ØªÙƒÙÙ„ Ø¨Ù…Ø±ÙŠÙ… Ø§Ù„Ø¹Ø°Ø±Ø§Ø¡ØŒ ÙˆØ±Ø²Ù‚Ù‡ Ø§Ù„Ù„Ù‡ Ø¨Ø§Ø¨Ù†Ù‡ ÙŠØ­ÙŠÙ‰ ÙÙŠ ÙƒØ¨Ø±Ù‡."},{id:"yahya",title:"ÙŠÙØ­Ù’ÙŠÙÙ‰",icon:"ğŸ“œ",content:"Ø§Ø¨Ù† Ø²ÙƒØ±ÙŠØ§ØŒ Ø¢ØªØ§Ù‡ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­ÙƒÙ…Ø© ÙˆÙ‡Ùˆ ØµØ¨ÙŠ."},{id:"isa",title:"Ø¹ÙÙŠØ³ÙÙ‰",icon:"âœ¨",content:"ØªÙƒÙ„Ù… ÙÙŠ Ø§Ù„Ù…Ù‡Ø¯ØŒ ÙˆØ£Ø­ÙŠØ§ Ø§Ù„Ù…ÙˆØªÙ‰ Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡ØŒ ÙˆØ±ÙØ¹Ù‡ Ø§Ù„Ù„Ù‡ Ø¥Ù„ÙŠÙ‡."},{id:"muhammad",title:"Ù…ÙØ­ÙÙ…Ù‘ÙØ¯",icon:"ğŸ•Œ",content:"Ø®Ø§ØªÙ… Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡ ÙˆØ§Ù„Ù…Ø±Ø³Ù„ÙŠÙ†ØŒ Ø£ÙÙ†Ø²Ù„ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø±Ø­Ù…Ø© Ù„Ù„Ø¹Ø§Ù„Ù…ÙŠÙ†."}];
    const duasData = [
        { title: 'Ø£ÙØ°Ù’ÙƒÙØ§Ø±Ù Ø§Ù„ØµÙ‘ÙØ¨ÙØ§Ø­Ù', text: 'Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ ÙˆÙØ£ÙØµÙ’Ø¨ÙØ­Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„ÙÙ‘Ù‡ÙØŒ ÙˆÙØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡ÙØŒ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ.', icon: 'ğŸŒ…', color: 'orange' },
        { title: 'Ø£ÙØ°Ù’ÙƒÙØ§Ø±Ù Ø§Ù„Ù’Ù…ÙØ³ÙØ§Ø¡Ù', text: 'Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§ ÙˆÙØ£ÙÙ…Ù’Ø³ÙÙ‰ Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„ÙÙ‘Ù‡ÙØŒ ÙˆÙØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡ÙØŒ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„ÙØ§ Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ.', icon: 'ğŸŒ™', color: 'purple' },
        { title: 'Ø¯ÙØ¹ÙØ§Ø¡Ù Ø§Ù„Ø·Ù‘ÙØ¹ÙØ§Ù…Ù', text: 'Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡ÙØŒ ÙÙØ¥ÙØ°ÙØ§ ÙÙØ±ÙØºÙ ÙÙÙ„Ù’ÙŠÙÙ‚ÙÙ„Ù’: Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù Ø§Ù„ÙÙ‘Ø°ÙÙŠ Ø£ÙØ·Ù’Ø¹ÙÙ…ÙÙ†ÙÙŠ Ù‡ÙØ°ÙØ§ ÙˆÙØ±ÙØ²ÙÙ‚ÙÙ†ÙÙŠÙ‡Ù Ù…ÙÙ†Ù’ ØºÙÙŠÙ’Ø±Ù Ø­ÙÙˆÙ’Ù„Ù Ù…ÙÙ†ÙÙ‘ÙŠ ÙˆÙÙ„ÙØ§ Ù‚ÙÙˆÙÙ‘Ø©Ù.', icon: 'ğŸ½ï¸', color: 'green' },
        { title: 'Ø¯ÙØ¹ÙØ§Ø¡Ù Ø§Ù„Ù†Ù‘ÙÙˆÙ’Ù…Ù', text: 'Ø¨ÙØ§Ø³Ù’Ù…ÙÙƒÙ Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø£ÙÙ…ÙÙˆØªÙ ÙˆÙØ£ÙØ­Ù’ÙŠÙØ§.', icon: 'ğŸ˜´', color: 'indigo' },
        { title: 'Ø¯ÙØ¹ÙØ§Ø¡Ù Ø§Ù„Ù’Ø®ÙØ±ÙÙˆØ¬Ù Ù…ÙÙ†Ù Ø§Ù„Ù’Ù…ÙÙ†Ù’Ø²ÙÙ„Ù', text: 'Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡ÙØŒ ØªÙÙˆÙÙƒÙ‘ÙÙ„Ù’ØªÙ Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù„Ù‘ÙÙ‡ÙØŒ ÙˆÙÙ„ÙØ§ Ø­ÙÙˆÙ’Ù„Ù ÙˆÙÙ„ÙØ§ Ù‚ÙÙˆÙ‘ÙØ©Ù Ø¥ÙÙ„Ù‘ÙØ§ Ø¨ÙØ§Ù„Ù„Ù‘ÙÙ‡Ù.', icon: 'ğŸšª', color: 'blue' },
        { title: 'Ø¯ÙØ¹ÙØ§Ø¡ÙŒ Ù„ÙÙ„Ù’ÙˆÙØ§Ù„ÙØ¯ÙÙŠÙ’Ù†Ù', text: 'Ø±Ù‘ÙØ¨Ù‘Ù Ø§Ø±Ù’Ø­ÙÙ…Ù’Ù‡ÙÙ…ÙØ§ ÙƒÙÙ…ÙØ§ Ø±ÙØ¨Ù‘ÙÙŠÙØ§Ù†ÙÙŠ ØµÙØºÙÙŠØ±Ù‹Ø§.', icon: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', color: 'rose' },
        { title: 'Ø¯ÙØ¹ÙØ§Ø¡Ù Ø·ÙÙ„ÙØ¨Ù Ø§Ù„Ù’Ø¹ÙÙ„Ù’Ù…Ù', text: 'Ø±ÙØ¨Ù‘Ù Ø²ÙØ¯Ù’Ù†ÙÙŠ Ø¹ÙÙ„Ù’Ù…Ù‹Ø§.', icon: 'ğŸ§ ', color: 'sky' },
        { title: 'Ø¯ÙØ¹ÙØ§Ø¡Ù Ø¯ÙØ®ÙÙˆÙ„Ù Ø§Ù„Ù’Ù…ÙØ³Ù’Ø¬ÙØ¯Ù', text: 'Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‡ÙØŒ ÙˆÙØ§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù ÙˆÙØ§Ù„Ø³ÙÙ‘Ù„ÙØ§Ù…Ù Ø¹ÙÙ„ÙÙ‰ Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„Ù‡ÙØŒ Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø§ÙÙ’ØªÙØ­Ù’ Ù„ÙÙŠ Ø£ÙØ¨Ù’ÙˆÙØ§Ø¨Ù Ø±ÙØ­Ù’Ù…ÙØªÙÙƒÙ.', icon: 'ğŸ•Œ', color: 'teal' },
        { title: 'Ø¯ÙØ¹ÙØ§Ø¡Ù Ø§Ù„Ù’Ø®ÙØ±ÙÙˆØ¬Ù Ù…ÙÙ†Ù Ø§Ù„Ù’Ù…ÙØ³Ù’Ø¬ÙØ¯Ù', text: 'Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‡ÙØŒ ÙˆÙØ§Ù„ØµÙÙ‘Ù„ÙØ§Ø©Ù ÙˆÙØ§Ù„Ø³ÙÙ‘Ù„ÙØ§Ù…Ù Ø¹ÙÙ„ÙÙ‰ Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„Ù‡ÙØŒ Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙØ³Ù’Ø£ÙÙ„ÙÙƒÙ Ù…ÙÙ†Ù’ ÙÙØ¶Ù’Ù„ÙÙƒÙ.', icon: 'ğŸš¶â€â™‚ï¸', color: 'fuchsia' }
    ];
    const asmaAlHusnaData = [
        { name: 'Ø§Ù„Ù„Ù‡', meaning: 'Ø§Ù„Ù…Ø£Ù„ÙˆÙ‡ Ø§Ù„ÙˆØ§Ø­Ø¯ Ø§Ù„Ù…Ø¹Ø¨ÙˆØ¯ Ø¨Ø­Ù‚ Ø§Ù„Ø°ÙŠ ØªÙØ²Ø¹ Ø¥Ù„ÙŠÙ‡ Ø§Ù„Ø®Ù„Ø§Ø¦Ù‚.' },
        { name: 'Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ€Ù°Ù†Ù', meaning: 'ØµØ§Ø­Ø¨ Ø§Ù„Ø±Ø­Ù…Ø© Ø§Ù„ÙˆØ§Ø³Ø¹Ø© Ø§Ù„Ø°ÙŠ ÙˆØ³Ø¹Øª Ø±Ø­Ù…ØªÙ‡ ÙƒÙ„ Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù', meaning: 'Ø§Ù„Ù…Ù†Ø¹Ù… Ø£Ø¨Ø¯Ø§Ù‹ØŒ Ø§Ù„Ù…ØªÙØ¶Ù„ Ø¯ÙˆÙ…Ø§Ù‹ØŒ ÙØ±Ø­Ù…ØªÙ‡ Ù„Ø§ ØªÙ†ØªÙ‡ÙŠ.' },
        { name: 'Ø§Ù„Ù’Ù…ÙÙ„ÙÙƒÙ', meaning: 'Ø§Ù„Ù…ØªØµØ±Ù ÙÙŠ Ù…Ù„ÙƒÙ‡ ÙƒÙŠÙ ÙŠØ´Ø§Ø¡ØŒ Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ù…Ø·Ù„Ù‚.' },
        { name: 'Ø§Ù„Ù’Ù‚ÙØ¯ÙÙ‘ÙˆØ³Ù', meaning: 'Ø§Ù„Ø·Ø§Ù‡Ø± Ø§Ù„Ù…Ù†Ø²Ù‡ Ø¹Ù† ÙƒÙ„ Ø¹ÙŠØ¨ ÙˆÙ†Ù‚Øµ.' },
        { name: 'Ø§Ù„Ø³ÙÙ‘Ù„ÙØ§Ù…Ù', meaning: 'ÙˆØ§Ù‡Ø¨ Ø§Ù„Ø³Ù„Ø§Ù… ÙˆØ§Ù„Ø£Ù…Ø§Ù† Ù„Ø¹Ø¨Ø§Ø¯Ù‡ØŒ ÙˆØ§Ù„Ø°ÙŠ Ø³Ù„Ù…Øª Ø°Ø§ØªÙ‡ Ù…Ù† ÙƒÙ„ Ù†Ù‚Øµ.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†Ù', meaning: 'Ø§Ù„Ù…Ø¤Ù…ÙÙ‘Ù† Ù„Ø®Ù„Ù‚Ù‡ Ù…Ù† ÙƒÙ„ Ø®ÙˆÙØŒ ÙˆØ§Ù„Ù…ØµØ¯Ù‚ Ø¹Ø¨Ø§Ø¯Ù‡ Ù…Ø§ ÙˆØ¹Ø¯Ù‡Ù….' },
        { name: 'Ø§Ù„Ù’Ù…ÙÙ‡ÙÙŠÙ’Ù…ÙÙ†Ù', meaning: 'Ø§Ù„Ø±Ù‚ÙŠØ¨ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø§Ù„Ù‚Ø§Ø¦Ù… Ø¹Ù„Ù‰ Ø®Ù„Ù‚Ù‡ØŒ ÙˆØ§Ù„Ù…Ø·Ù„Ø¹ Ø¹Ù„Ù‰ Ø®ÙØ§ÙŠØ§ Ø§Ù„Ø£Ù…ÙˆØ±.' },
        { name: 'Ø§Ù„Ù’Ø¹ÙØ²ÙÙŠØ²Ù', meaning: 'Ø§Ù„Ù‚ÙˆÙŠ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠÙÙ‚Ù‡Ø±ØŒ Ø§Ù„ØºØ§Ù„Ø¨ Ø¹Ù„Ù‰ Ø£Ù…Ø±Ù‡ØŒ ÙˆÙ‡Ùˆ ØºØ§Ù„Ø¨ ÙƒÙ„ Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„Ù’Ø¬ÙØ¨ÙÙ‘Ø§Ø±Ù', meaning: 'Ø§Ù„Ø°ÙŠ ØªÙ†ÙØ° Ù…Ø´ÙŠØ¦ØªÙ‡ØŒ ÙˆÙ„Ø§ ÙŠØ®Ø±Ø¬ Ø£Ø­Ø¯ Ø¹Ù† ØªÙ‚Ø¯ÙŠØ±Ù‡ØŒ Ø§Ù„Ù‚Ø§Ù‡Ø± Ù„Ø®Ù„Ù‚Ù‡ Ø¹Ù„Ù‰ Ù…Ø§ Ø£Ø±Ø§Ø¯.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØªÙÙƒÙØ¨ÙÙ‘Ø±Ù', meaning: 'ØµØ§Ø­Ø¨ Ø§Ù„Ø¹Ø¸Ù…Ø© ÙˆØ§Ù„ÙƒØ¨Ø±ÙŠØ§Ø¡ØŒ Ø§Ù„Ù…ØªØ¹Ø§Ù„ÙŠ Ø¹Ù† ØµÙØ§Øª Ø§Ù„Ø®Ù„Ù‚.' },
        { name: 'Ø§Ù„Ù’Ø®ÙØ§Ù„ÙÙ‚Ù', meaning: 'Ø§Ù„Ù…Ø¨Ø¯Ø¹ Ù„ÙƒÙ„ Ø´ÙŠØ¡ØŒ ÙˆØ§Ù„Ù…Ù‚Ø¯Ø± Ù„Ù‡ØŒ ÙˆØ§Ù„Ù…ÙˆØ¬Ø¯ Ù„Ù„Ø£Ø´ÙŠØ§Ø¡ Ù…Ù† Ø§Ù„Ø¹Ø¯Ù….' },
        { name: 'Ø§Ù„Ù’Ø¨ÙØ§Ø±ÙØ¦Ù', meaning: 'Ø®Ù„Ù‚ Ø§Ù„Ø®Ù„Ù‚ Ø¨Ù‚Ø¯Ø±ØªÙ‡ Ù„Ø§ Ø¹Ù† Ù…Ø«Ø§Ù„ Ø³Ø§Ø¨Ù‚.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØµÙÙˆÙÙ‘Ø±Ù', meaning: 'ØµÙˆØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø§ØªØŒ ÙˆØ£Ø¹Ø·Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ ØµÙˆØ±Ø© Ø®Ø§ØµØ© ØªÙ…ÙŠØ²Ù‡.' },
        { name: 'Ø§Ù„Ù’ØºÙÙÙÙ‘Ø§Ø±Ù', meaning: 'ÙŠØºÙØ± Ø§Ù„Ø°Ù†ÙˆØ¨ ÙˆÙŠØ³ØªØ± Ø§Ù„Ø¹ÙŠÙˆØ¨ ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ ÙˆØ§Ù„Ø¢Ø®Ø±Ø©.' },
        { name: 'Ø§Ù„Ù’Ù‚ÙÙ‡ÙÙ‘Ø§Ø±Ù', meaning: 'Ø§Ù„ØºØ§Ù„Ø¨ Ø§Ù„Ø°ÙŠ Ù‚Ù‡Ø± Ø®Ù„Ù‚Ù‡ Ø¨Ø³Ù„Ø·Ø§Ù†Ù‡ ÙˆÙ‚Ø¯Ø±ØªÙ‡.' },
        { name: 'Ø§Ù„Ù’ÙˆÙÙ‡ÙÙ‘Ø§Ø¨Ù', meaning: 'Ø§Ù„Ù…Ù†Ø¹Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø¨Ø§Ø¯ØŒ ÙŠÙ‡Ø¨ Ø¨ØºÙŠØ± Ø¹ÙˆØ¶ØŒ ÙˆÙƒØ«ÙŠØ± Ø§Ù„Ø¹Ø·Ø§Ø¡.' },
        { name: 'Ø§Ù„Ø±ÙÙ‘Ø²ÙÙ‘Ø§Ù‚Ù', meaning: 'Ø®Ù„Ù‚ Ø§Ù„Ø£Ø±Ø²Ø§Ù‚ØŒ ÙˆØ£Ø¹Ø·Ù‰ ÙƒÙ„ Ø§Ù„Ø®Ù„Ø§Ø¦Ù‚ Ø£Ø±Ø²Ø§Ù‚Ù‡Ø§.' },
        { name: 'Ø§Ù„Ù’ÙÙØªÙÙ‘Ø§Ø­Ù', meaning: 'ÙŠÙØªØ­ Ù…ØºÙ„Ù‚ Ø§Ù„Ø£Ù…ÙˆØ±ØŒ ÙˆÙŠØ³Ù‡Ù„ Ø§Ù„Ø¹Ø³ÙŠØ±.' },
        { name: 'Ø§Ù„Ù’Ø¹ÙÙ„ÙÙŠÙ…Ù', meaning: 'ÙŠØ¹Ù„Ù… ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø£Ù…ÙˆØ±ØŒ ÙˆØ¯Ù‚Ø§Ø¦Ù‚ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ØŒ ÙˆÙ„Ø§ ØªØ®ÙÙ‰ Ø¹Ù„ÙŠÙ‡ Ø®Ø§ÙÙŠØ©.' },
        { name: 'Ø§Ù„Ù’Ù‚ÙØ§Ø¨ÙØ¶Ù', meaning: 'ÙŠÙ‚ØªÙ‘Ø± Ø§Ù„Ø±Ø²Ù‚ ÙˆÙŠØ¶ÙŠÙ‚ Ø¹Ù„Ù‰ Ù…Ù† ÙŠØ´Ø§Ø¡.' },
        { name: 'Ø§Ù„Ù’Ø¨ÙØ§Ø³ÙØ·Ù', meaning: 'ÙŠÙˆØ³Ø¹ Ø§Ù„Ø±Ø²Ù‚ ÙˆÙŠØ¨Ø³Ø·Ù‡ Ù„Ù…Ù† ÙŠØ´Ø§Ø¡.' },
        { name: 'Ø§Ù„Ù’Ø®ÙØ§ÙÙØ¶Ù', meaning: 'ÙŠØ®ÙØ¶ Ù…Ù† ÙŠØ³ØªØ­Ù‚ Ø§Ù„Ø®ÙØ¶ØŒ ÙˆÙŠØ°Ù„ Ù…Ù† Ø¹ØµØ§Ù‡.' },
        { name: 'Ø§Ù„Ø±ÙÙ‘Ø§ÙÙØ¹Ù', meaning: 'ÙŠØ±ÙØ¹ Ù…Ù† ÙŠØ³ØªØ­Ù‚ Ø§Ù„Ø±ÙØ¹ØŒ ÙˆÙŠØ¹Ø² Ù…Ù† Ø£Ø·Ø§Ø¹Ù‡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØ¹ÙØ²ÙÙ‘', meaning: 'ÙŠÙ‡Ø¨ Ø§Ù„Ø¹Ø²Ø© Ù„Ù…Ù† ÙŠØ´Ø§Ø¡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØ°ÙÙ„ÙÙ‘', meaning: 'ÙŠÙØ°Ù„ Ù…Ù† ÙŠØ´Ø§Ø¡ Ù…Ù† Ø£Ø¹Ø¯Ø§Ø¦Ù‡.' },
        { name: 'Ø§Ù„Ø³ÙÙ‘Ù…ÙÙŠØ¹Ù', meaning: 'ÙŠØ³Ù…Ø¹ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ù„Ø§ ØªØ®ÙÙ‰ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø£ØµÙˆØ§Øª.' },
        { name: 'Ø§Ù„Ù’Ø¨ÙØµÙÙŠØ±Ù', meaning: 'ÙŠØ±Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ù…Ø§ Ø¯Ù‚ ÙˆÙ…Ø§ Ø¬Ù„ØŒ ÙˆÙ„Ø§ ÙŠØ¹Ø²Ø¨ Ø¹Ù†Ù‡ Ø¨ØµØ±Ù‡.' },
        { name: 'Ø§Ù„Ù’Ø­ÙÙƒÙÙ…Ù', meaning: 'Ø§Ù„Ø­Ø§ÙƒÙ… Ø§Ù„Ø¹Ø§Ø¯Ù„ ÙÙŠ Ø®Ù„Ù‚Ù‡ØŒ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ±Ø¯ Ù‚Ø¶Ø§Ø¤Ù‡.' },
        { name: 'Ø§Ù„Ù’Ø¹ÙØ¯Ù’Ù„Ù', meaning: 'Ø§Ù„Ù…Ù†Ø²Ù‡ Ø¹Ù† Ø§Ù„Ø¸Ù„Ù… ÙˆØ§Ù„Ø¬ÙˆØ±ØŒ ÙˆÙŠØ¹Ø·ÙŠ ÙƒÙ„ Ø°ÙŠ Ø­Ù‚ Ø­Ù‚Ù‡.' },
        { name: 'Ø§Ù„Ù„ÙÙ‘Ø·ÙÙŠÙÙ', meaning: 'Ø§Ù„Ø±ÙÙŠÙ‚ Ø¨Ø¹Ø¨Ø§Ø¯Ù‡ØŒ ÙŠØ±Ø²Ù‚ ÙˆÙŠÙŠØ³Ø± Ø¨Ø£Ù„Ø·Ø§ÙÙ‡ Ø§Ù„Ø®ÙÙŠØ©.' },
        { name: 'Ø§Ù„Ù’Ø®ÙØ¨ÙÙŠØ±Ù', meaning: 'Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨Ø¯Ù‚Ø§Ø¦Ù‚ Ø§Ù„Ø£Ù…ÙˆØ±ØŒ ÙˆØ®ÙØ§ÙŠØ§Ù‡Ø§ØŒ ÙˆØ§Ù„Ù…Ø·Ù„Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø±Ø§Ø¦Ø±.' },
        { name: 'Ø§Ù„Ù’Ø­ÙÙ„ÙÙŠÙ…Ù', meaning: 'Ø§Ù„ØµÙÙ‘Ø¨ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¹ØµØ§Ø©ØŒ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ¹Ø§Ø¬Ù„Ù‡Ù… Ø¨Ø§Ù„Ø¹Ù‚ÙˆØ¨Ø©.' },
        { name: 'Ø§Ù„Ù’Ø¹ÙØ¸ÙÙŠÙ…Ù', meaning: 'Ø°ÙŠ Ø§Ù„Ø¹Ø¸Ù…Ø© ÙˆØ§Ù„Ø¬Ù„Ø§Ù„ ÙˆØ§Ù„ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø·Ù„Ù‚.' },
        { name: 'Ø§Ù„Ù’ØºÙÙÙÙˆØ±Ù', meaning: 'Ø§Ù„Ø°ÙŠ ÙŠØºÙØ± Ø§Ù„Ø°Ù†ÙˆØ¨ ÙˆÙŠØ³ØªØ± Ø§Ù„Ø¹ÙŠÙˆØ¨ Ø¨ÙƒØ«Ø±Ø©.' },
        { name: 'Ø§Ù„Ø´ÙÙ‘ÙƒÙÙˆØ±Ù', meaning: 'ÙŠÙƒØ§ÙØ¦ Ø¹Ø¨Ø§Ø¯Ù‡ Ø¨Ø§Ù„Ø«ÙˆØ§Ø¨ Ø§Ù„Ø¬Ø²ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù‚Ù„ÙŠÙ„.' },
        { name: 'Ø§Ù„Ù’Ø¹ÙÙ„ÙÙŠÙÙ‘', meaning: 'Ø°Ùˆ Ø§Ù„Ø¹Ù„Ùˆ Ø§Ù„Ù…Ø·Ù„Ù‚ ÙÙŠ Ø°Ø§ØªÙ‡ ØµÙØ§ØªÙ‡ ÙˆØ£ÙØ¹Ø§Ù„Ù‡.' },
        { name: 'Ø§Ù„Ù’ÙƒÙØ¨ÙÙŠØ±Ù', meaning: 'Ø°Ùˆ Ø§Ù„ÙƒØ¨Ø±ÙŠØ§Ø¡ ÙˆØ§Ù„Ø¹Ø¸Ù…Ø© Ø§Ù„Ø°ÙŠ Ù„Ø§ ØªØ­ÙŠØ· Ø¨Ù‡ Ø§Ù„Ø£ÙˆÙ‡Ø§Ù….' },
        { name: 'Ø§Ù„Ù’Ø­ÙÙÙÙŠØ¸Ù', meaning: 'ÙŠØ­ÙØ¸ Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø¹Ø¨Ø§Ø¯ØŒ ÙˆÙŠØ­ÙØ¸ ÙƒÙ„ Ø´ÙŠØ¡ Ù…Ù† Ø§Ù„Ø²ÙˆØ§Ù„.' },
        { name: 'Ø§Ù„Ù’Ù…ÙÙ‚ÙÙŠØªÙ', meaning: 'Ø§Ù„Ø®Ø§Ù„Ù‚ Ù„Ø£Ù‚ÙˆØ§Øª Ø§Ù„Ø¹Ø¨Ø§Ø¯ØŒ ÙˆØ§Ù„Ù…Ù‚Ø¯Ø± Ù„Ù‡Ù… Ø£Ø±Ø²Ø§Ù‚Ù‡Ù….' },
        { name: 'Ø§Ù„Ù’Ø­ÙØ³ÙÙŠØ¨Ù', meaning: 'Ø§Ù„ÙƒØ§ÙÙŠ Ù„Ø¹Ø¨Ø§Ø¯Ù‡ØŒ ÙˆØ§Ù„Ø°ÙŠ ÙŠØ­Ø§Ø³Ø¨Ù‡Ù… Ø¹Ù„Ù‰ Ø£Ø¹Ù…Ø§Ù„Ù‡Ù….' },
        { name: 'Ø§Ù„Ù’Ø¬ÙÙ„ÙÙŠÙ„Ù', meaning: 'Ø°Ùˆ Ø§Ù„Ø¬Ù„Ø§Ù„ ÙˆØ§Ù„Ø¹Ø¸Ù…Ø© ÙˆØ§Ù„ÙƒØ¨Ø±ÙŠØ§Ø¡.' },
        { name: 'Ø§Ù„Ù’ÙƒÙØ±ÙÙŠÙ…Ù', meaning: 'ÙˆØ§Ø³Ø¹ Ø§Ù„Ø¹Ø·Ø§Ø¡ØŒ ÙƒØ«ÙŠØ± Ø§Ù„Ø¬ÙˆØ¯ØŒ ÙˆØ§Ù„Ù…Ø¹Ø·ÙŠ Ø¨Ù„Ø§ Ø­Ø³Ø§Ø¨.' },
        { name: 'Ø§Ù„Ø±ÙÙ‘Ù‚ÙÙŠØ¨Ù', meaning: 'Ø§Ù„Ù…Ø·Ù„Ø¹ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ØŒ ÙˆØ§Ù„Ø°ÙŠ ÙŠØ±Ø§Ù‚Ø¨ Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø¹Ø¨Ø§Ø¯.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØ¬ÙÙŠØ¨Ù', meaning: 'ÙŠØ³ØªØ¬ÙŠØ¨ Ø¯Ø¹Ø§Ø¡ Ù…Ù† ÙŠØ¯Ø¹ÙˆÙ‡ØŒ ÙˆÙŠÙ‚Ø¨Ù„ Ø³Ø¤Ø§Ù„ Ù…Ù† ÙŠØ³Ø£Ù„Ù‡.' },
        { name: 'Ø§Ù„Ù’ÙˆÙØ§Ø³ÙØ¹Ù', meaning: 'ÙˆØ§Ø³Ø¹ Ø§Ù„Ø¹Ù„Ù…ØŒ ÙˆØ§Ø³Ø¹ Ø§Ù„Ø±Ø­Ù…Ø©ØŒ ÙˆØ§Ø³Ø¹ Ø§Ù„ÙØ¶Ù„.' },
        { name: 'Ø§Ù„Ù’Ø­ÙÙƒÙÙŠÙ…Ù', meaning: 'Ø§Ù„Ù…ØªÙ‚Ù† Ù„ØªØ¯Ø¨ÙŠØ± Ø£Ù…ÙˆØ± Ø®Ù„Ù‚Ù‡ØŒ Ø§Ù„Ø°ÙŠ ØªØ¸Ù‡Ø± Ø¢Ø«Ø§Ø± Ø­ÙƒÙ…ØªÙ‡ ÙÙŠ ÙƒÙ„ Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„Ù’ÙˆÙØ¯ÙÙˆØ¯Ù', meaning: 'Ø§Ù„Ù…Ø­Ø¨ Ù„Ø¹Ø¨Ø§Ø¯Ù‡ Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ†ØŒ ÙˆØ§Ù„Ù…Ø­Ø¨ÙˆØ¨ ÙÙŠ Ù‚Ù„ÙˆØ¨Ù‡Ù….' },
        { name: 'Ø§Ù„Ù’Ù…ÙØ¬ÙÙŠØ¯Ù', meaning: 'Ø°Ùˆ Ø§Ù„Ù…Ø¬Ø¯ØŒ ÙˆÙ‡Ùˆ Ø§Ù„ÙƒØ±Ù… ÙˆØ§ØªØ³Ø§Ø¹ Ø§Ù„Ø®ÙŠØ± ÙˆØ§Ù„ØµÙØ§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©.' },
        { name: 'Ø§Ù„Ù’Ø¨ÙØ§Ø¹ÙØ«Ù', meaning: 'ÙŠÙØ®Ø±Ø¬ Ø§Ù„Ù…ÙˆØªÙ‰ Ù…Ù† Ù‚Ø¨ÙˆØ±Ù‡Ù… ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø©ØŒ ÙˆÙŠØ±Ø³Ù„ Ø§Ù„Ø±Ø³Ù„.' },
        { name: 'Ø§Ù„Ø´ÙÙ‘Ù‡ÙÙŠØ¯Ù', meaning: 'Ø§Ù„Ù…Ø·Ù„Ø¹ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ØŒ ÙˆØ§Ù„Ø°ÙŠ Ø´Ù‡Ø¯ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„Ù’Ø­ÙÙ‚ÙÙ‘', meaning: 'Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø°Ø§ØªÙ‡ØŒ ÙˆØ§Ù„Ø°ÙŠ Ù„Ø§ Ø´Ùƒ ÙÙŠ ÙˆØ¬ÙˆØ¯Ù‡ØŒ ÙˆØ£Ù…Ø±Ù‡ ÙƒÙ„Ù‡ Ø­Ù‚.' },
        { name: 'Ø§Ù„Ù’ÙˆÙÙƒÙÙŠÙ„Ù', meaning: 'Ø§Ù„ÙƒÙÙŠÙ„ Ø¨Ø£Ù…ÙˆØ± Ø®Ù„Ù‚Ù‡ØŒ ÙˆØ§Ù„Ø°ÙŠ ÙŠÙØ¹ØªÙ…Ø¯ Ø¹Ù„ÙŠÙ‡ ÙÙŠ ÙƒÙ„ Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„Ù’Ù‚ÙÙˆÙÙŠÙÙ‘', meaning: 'Ø°Ùˆ Ø§Ù„Ù‚ÙˆØ© Ø§Ù„ØªØ§Ù…Ø©ØŒ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ¹Ø¬Ø²Ù‡ Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØªÙÙŠÙ†Ù', meaning: 'Ø´Ø¯ÙŠØ¯ Ø§Ù„Ù‚ÙˆØ©ØŒ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ­ØªØ§Ø¬ ÙÙŠ Ø¥Ù…Ø¶Ø§Ø¡ Ø­ÙƒÙ…Ù‡ Ø¥Ù„Ù‰ Ù…Ø¯Ø¯.' },
        { name: 'Ø§Ù„Ù’ÙˆÙÙ„ÙÙŠÙÙ‘', meaning: 'Ù†Ø§ØµØ± Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ†ØŒ ÙˆØ§Ù„Ù…ØªÙˆÙ„ÙŠ Ø£Ù…ÙˆØ±Ù‡Ù… ÙˆÙ…ØµØ§Ù„Ø­Ù‡Ù….' },
        { name: 'Ø§Ù„Ù’Ø­ÙÙ…ÙÙŠØ¯Ù', meaning: 'Ø§Ù„Ù…Ø³ØªØ­Ù‚ Ù„ÙƒÙ„ Ø§Ù„Ø­Ù…Ø¯ ÙˆØ§Ù„Ø«Ù†Ø§Ø¡ØŒ ÙˆØ§Ù„Ø°ÙŠ ÙŠØ­Ù…Ø¯ Ù†ÙØ³Ù‡ Ø¹Ù„Ù‰ Ù†Ø¹Ù…Ù‡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØ­Ù’ØµÙÙŠ', meaning: 'Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨ÙƒÙ„ Ø´ÙŠØ¡ØŒ ÙˆØ§Ù„Ø°ÙŠ Ø£Ø­ØµÙ‰ ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø¹Ù„Ù…Ù‡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØ¨Ù’Ø¯ÙØ¦Ù', meaning: 'Ø§Ù„Ø°ÙŠ Ø£Ù†Ø´Ø£ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ ÙˆØ§Ø®ØªØ±Ø¹Ù‡Ø§ Ø§Ø¨ØªØ¯Ø§Ø¡Ù‹.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØ¹ÙÙŠØ¯Ù', meaning: 'ÙŠÙØ¹ÙŠØ¯ Ø§Ù„Ø®Ù„Ù‚ Ø¨Ø¹Ø¯ ÙÙ†Ø§Ø¦Ù‡Ù…ØŒ ÙˆÙŠÙØ±Ø¬Ø¹ ÙƒÙ„ Ø´ÙŠØ¡ Ø¥Ù„Ù‰ Ø£ØµÙ„Ù‡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØ­Ù’ÙŠÙÙŠ', meaning: 'Ø§Ù„Ø°ÙŠ ÙŠØ­ÙŠÙŠ Ø§Ù„Ù…ÙˆØªÙ‰ØŒ ÙˆÙŠÙ‡Ø¨ Ø§Ù„Ø­ÙŠØ§Ø© Ù„Ù…Ù† ÙŠØ´Ø§Ø¡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙÙ…ÙÙŠØªÙ', meaning: 'Ø§Ù„Ø°ÙŠ ÙŠÙ…ÙŠØª ÙƒÙ„ Ø­ÙŠØŒ ÙˆÙŠÙ‚Ø¯Ø± Ø§Ù„Ù…ÙˆØª Ø¹Ù„Ù‰ ÙƒÙ„ Ù†ÙØ³.' },
        { name: 'Ø§Ù„Ù’Ø­ÙÙŠÙÙ‘', meaning: 'Ø°Ùˆ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© ÙˆØ§Ù„Ø¯Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙŠ Ù„Ù… ØªØ³Ø¨Ù‚ Ø¨Ø¹Ø¯Ù… ÙˆÙ„Ø§ ÙŠÙ„Ø­Ù‚Ù‡Ø§ Ø²ÙˆØ§Ù„.' },
        { name: 'Ø§Ù„Ù’Ù‚ÙÙŠÙÙ‘ÙˆÙ…Ù', meaning: 'Ø§Ù„Ù‚Ø§Ø¦Ù… Ø¨Ù†ÙØ³Ù‡ØŒ ÙˆØ§Ù„Ø°ÙŠ ÙŠÙ‚ÙˆÙ… Ø¨Ù‡ ÙƒÙ„ Ø´ÙŠØ¡ØŒ ÙÙ„Ø§ ÙŠÙ†Ø§Ù… ÙˆÙ„Ø§ ÙŠÙÙˆØª.' },
        { name: 'Ø§Ù„Ù’ÙˆÙØ§Ø¬ÙØ¯Ù', meaning: 'Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠÙØªÙ‚Ø± Ù„ÙˆØ¬ÙˆØ¯Ù‡ Ù„Ø´ÙŠØ¡ØŒ ÙˆØ§Ù„ØºÙ†ÙŠ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ù„Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØ§Ø¬ÙØ¯Ù', meaning: 'Ø°Ùˆ Ø§Ù„Ù…Ø¬Ø¯ØŒ ÙˆÙ‡Ùˆ Ø§Ù„ÙƒØ±Ù… ÙˆØ§Ù„Ø¹Ø·Ø§Ø¡ ÙˆØ§Ù„Ø¬ÙˆØ¯.' },
        { name: 'Ø§Ù„Ù’ÙˆÙØ§Ø­ÙØ¯Ù', meaning: 'Ø§Ù„Ù…Ù†ÙØ±Ø¯ ÙÙŠ Ø°Ø§ØªÙ‡ ØµÙØ§ØªÙ‡ØŒ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ ÙˆÙ„Ø§ Ù…Ø«ÙŠÙ„.' },
        { name: 'Ø§Ù„Ù’Ø£ÙØ­ÙØ¯Ù', meaning: 'Ø§Ù„Ù…Ù†ÙØ±Ø¯ Ø¨Ø§Ù„Ø°Ø§ØªØŒ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ¯Ø®Ù„ Ø¹Ù„ÙŠÙ‡ Ø£Ø­Ø¯ ÙˆÙ„Ø§ ÙŠØ®Ø±Ø¬ Ù…Ù†Ù‡ Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„ØµÙÙ‘Ù…ÙØ¯Ù', meaning: 'Ø§Ù„Ù…Ù‚ØµÙˆØ¯ ÙÙŠ Ø§Ù„Ø­ÙˆØ§Ø¦Ø¬ØŒ Ø§Ù„Ø°ÙŠ ÙŠØµÙ…Ø¯ Ø¥Ù„ÙŠÙ‡ ÙƒÙ„ Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„Ù’Ù‚ÙØ§Ø¯ÙØ±Ù', meaning: 'Ø°Ùˆ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„ØªØ§Ù…Ø©ØŒ Ø§Ù„Ø°ÙŠ ÙŠÙ‚Ø¯Ø± Ø¹Ù„Ù‰ ÙØ¹Ù„ ÙƒÙ„ Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙÙ‚Ù’ØªÙØ¯ÙØ±Ù', meaning: 'Ø´Ø¯ÙŠØ¯ Ø§Ù„Ù‚Ø¯Ø±Ø©ØŒ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ¹Ø¬Ø²Ù‡ Ø´ÙŠØ¡ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ ÙˆÙ„Ø§ ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙÙ‚ÙØ¯ÙÙ‘Ù…Ù', meaning: 'ÙŠÙ‚Ø¯Ù… Ù…Ù† ÙŠØ´Ø§Ø¡ Ù…Ù† Ø®Ù„Ù‚Ù‡ØŒ ÙˆÙŠØ±ÙØ¹ Ù…Ù†Ø²Ù„ØªÙ‡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØ¤ÙØ®ÙÙ‘Ø±Ù', meaning: 'ÙŠØ¤Ø®Ø± Ù…Ù† ÙŠØ´Ø§Ø¡ØŒ ÙˆÙŠØ¶Ø¹ Ù…Ù† ÙŠØ´Ø§Ø¡ ÙÙŠ Ù…Ø±ØªØ¨ØªÙ‡.' },
        { name: 'Ø§Ù„Ù’Ø£ÙÙˆÙÙ‘Ù„Ù', meaning: 'Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ³Ø¨Ù‚Ù‡ Ø´ÙŠØ¡ØŒ ÙˆÙ‡Ùˆ Ø£ÙˆÙ„ ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø§Ù„ÙˆØ¬ÙˆØ¯.' },
        { name: 'Ø§Ù„Ù’Ø¢Ø®ÙØ±Ù', meaning: 'Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ¨Ù‚Ù‰ Ø´ÙŠØ¡ Ø¨Ø¹Ø¯ ÙÙ†Ø§Ø¡ ÙƒÙ„ Ø´ÙŠØ¡ØŒ ÙˆÙ‡Ùˆ Ø¢Ø®Ø± ÙƒÙ„ Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„Ø¸ÙÙ‘Ø§Ù‡ÙØ±Ù', meaning: 'Ø§Ù„Ø°ÙŠ Ø¸Ù‡Ø± ÙˆØ¬ÙˆØ¯Ù‡ Ø¨ÙƒÙ„ Ø´ÙŠØ¡ØŒ ÙˆØ¯Ù„Øª Ø¢ÙŠØ§ØªÙ‡ Ø¹Ù„Ù‰ ÙˆØ¬ÙˆØ¯Ù‡.' },
        { name: 'Ø§Ù„Ù’Ø¨ÙØ§Ø·ÙÙ†Ù', meaning: 'Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ¯Ø±Ùƒ Ø¹Ù„Ù…Ù‡ Ø£Ùˆ Ø­Ù‚ÙŠÙ‚ØªÙ‡ØŒ Ø§Ù„Ù…Ø­ÙŠØ· Ø¨ÙƒÙ„ Ø´ÙŠØ¡ Ø®ÙØ§Ø¡Ù‹.' },
        { name: 'Ø§Ù„Ù’ÙˆÙØ§Ù„ÙÙŠ', meaning: 'Ø§Ù„Ù…ØªÙˆÙ„ÙŠ Ù„Ø£Ù…ÙˆØ± Ø®Ù„Ù‚Ù‡ØŒ ÙˆØ§Ù„Ù…Ø³ÙŠØ·Ø± Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØªÙØ¹ÙØ§Ù„ÙÙŠ', meaning: 'Ø°Ùˆ Ø§Ù„Ø¹Ù„Ùˆ Ø§Ù„Ù…Ø·Ù„Ù‚ØŒ ÙÙˆÙ‚ ÙƒÙ„ Ø´ÙŠØ¡ Ø¹Ù„ÙˆØ§Ù‹.' },
        { name: 'Ø§Ù„Ù’Ø¨ÙØ±ÙÙ‘', meaning: 'Ø§Ù„Ù…Ø­Ø³Ù† Ø¥Ù„Ù‰ Ø®Ù„Ù‚Ù‡ØŒ ÙˆØ§Ø³Ø¹ Ø§Ù„Ø¹Ø·Ø§Ø¡ ÙˆØ§Ù„Ø®ÙŠØ±.' },
        { name: 'Ø§Ù„ØªÙÙ‘ÙˆÙÙ‘Ø§Ø¨Ù', meaning: 'ÙŠÙ‚Ø¨Ù„ ØªÙˆØ¨Ø© Ø¹Ø¨Ø§Ø¯Ù‡ØŒ ÙˆÙŠÙˆÙÙ‚Ù‡Ù… Ù„Ù‡Ø§.' },
        { name: 'Ø§Ù„Ù’Ù…ÙÙ†Ù’ØªÙÙ‚ÙÙ…Ù', meaning: 'ÙŠØ¹Ø§Ù‚Ø¨ Ø§Ù„Ù…Ø¬Ø±Ù…ÙŠÙ† ÙˆÙŠÙ†ØªÙ‚Ù… Ù…Ù†Ù‡Ù….' },
        { name: 'Ø§Ù„Ù’Ø¹ÙÙÙÙˆÙÙ‘', meaning: 'Ø§Ù„Ù…Ø­Ø¨ Ù„Ù„ØµÙØ­ØŒ Ø§Ù„Ø°ÙŠ ÙŠÙ…Ø­Ùˆ Ø§Ù„Ø°Ù†ÙˆØ¨ ÙˆØ§Ù„Ø®Ø·Ø§ÙŠØ§.' },
        { name: 'Ø§Ù„Ø±ÙÙ‘Ø¤ÙÙˆÙÙ', meaning: 'Ø¹Ø¸ÙŠÙ… Ø§Ù„Ø±Ø£ÙØ© ÙˆØ§Ù„Ø±Ø­Ù…Ø© Ø¨Ø§Ù„Ø¹Ø¨Ø§Ø¯.' },
        { name: 'Ù…ÙØ§Ù„ÙÙƒÙ Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ', meaning: 'ØµØ§Ø­Ø¨ Ø§Ù„Ù…Ù„Ùƒ ÙƒÙ„Ù‡ØŒ Ø§Ù„Ø°ÙŠ ÙŠØ¹Ø·ÙŠ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù…Ù† ÙŠØ´Ø§Ø¡ ÙˆÙŠÙ…Ù†Ø¹Ù‡.' },
        { name: 'Ø°ÙÙˆ Ø§Ù„Ù’Ø¬ÙÙ„ÙØ§Ù„Ù ÙˆÙØ§Ù„Ù’Ø¥ÙÙƒÙ’Ø±ÙØ§Ù…Ù', meaning: 'ØµØ§Ø­Ø¨ Ø§Ù„Ø¹Ø¸Ù…Ø© ÙˆØ§Ù„ÙƒØ¨Ø±ÙŠØ§Ø¡ØŒ ÙˆØ§Ù„Ø¬ÙˆØ¯ ÙˆØ§Ù„Ø¹Ø·Ø§Ø¡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙÙ‚Ù’Ø³ÙØ·Ù', meaning: 'Ø§Ù„Ø¹Ø¯Ù„ ÙÙŠ Ø­ÙƒÙ…Ù‡ØŒ Ø§Ù„Ø°ÙŠ ÙŠÙ‚Ø³Ø· Ø¨ÙŠÙ† Ø¹Ø¨Ø§Ø¯Ù‡.' },
        { name: 'Ø§Ù„Ù’Ø¬ÙØ§Ù…ÙØ¹Ù', meaning: 'ÙŠØ¬Ù…Ø¹ Ø®Ù„Ù‚Ù‡ ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø©ØŒ ÙˆÙŠØ¬Ù…Ø¹ ØµÙØ§Øª Ø§Ù„ÙƒÙ…Ø§Ù„.' },
        { name: 'Ø§Ù„Ù’ØºÙÙ†ÙÙŠÙÙ‘', meaning: 'Ø§Ù„ØºÙ†ÙŠ Ø¹Ù† ÙƒÙ„ Ø´ÙŠØ¡ØŒ ÙˆØ§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ù„Ø´ÙŠØ¡.' },
        { name: 'Ø§Ù„Ù’Ù…ÙØºÙ’Ù†ÙÙŠ', meaning: 'ÙŠØºÙ†ÙŠ Ø¹Ø¨Ø§Ø¯Ù‡ØŒ ÙˆÙŠÙ‚Ø¶ÙŠ Ø­ÙˆØ§Ø¦Ø¬Ù‡Ù….' },
        { name: 'Ø§Ù„Ù’Ù…ÙØ§Ù†ÙØ¹Ù', meaning: 'ÙŠÙ…Ù†Ø¹ Ù…Ø§ ÙŠØ´Ø§Ø¡ Ù…Ù† Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ØŒ ÙˆÙŠØ­Ù…ÙŠ Ø¹Ø¨Ø§Ø¯Ù‡.' },
        { name: 'Ø§Ù„Ø¶ÙÙ‘Ø§Ø±ÙÙ‘', meaning: 'ÙŠØµÙŠØ¨ Ø¨Ø§Ù„Ø¶Ø± ÙˆØ§Ù„Ø´Ø¯Ø© Ù…Ù† ÙŠØ´Ø§Ø¡ Ù…Ù† Ø§Ù„ÙƒÙØ§Ø±.' },
        { name: 'Ø§Ù„Ù†ÙÙ‘ÙˆØ±Ù', meaning: 'ÙŠÙ‡Ø¯ÙŠ Ø¨Ù‡ Ø¹Ø¨Ø§Ø¯Ù‡ØŒ ÙˆÙ‡Ùˆ Ù†ÙˆØ± Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª ÙˆØ§Ù„Ø£Ø±Ø¶.' },
        { name: 'Ø§Ù„Ù’Ù‡ÙØ§Ø¯ÙÙŠ', meaning: 'ÙŠÙ‡Ø¯ÙŠ Ø¹Ø¨Ø§Ø¯Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ù‚ ÙˆØ§Ù„ØµØ±Ø§Ø· Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ….' },
        { name: 'Ø§Ù„Ù’Ø¨ÙØ¯ÙÙŠØ¹Ù', meaning: 'Ù…Ø¨Ø¯Ø¹ Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª ÙˆØ§Ù„Ø£Ø±Ø¶ØŒ Ø®Ø§Ù„Ù‚Ù‡Ø§ Ø¹Ù„Ù‰ ØºÙŠØ± Ù…Ø«Ø§Ù„ Ø³Ø¨Ù‚.' },
        { name: 'Ø§Ù„Ù’Ø¨ÙØ§Ù‚ÙÙŠ', meaning: 'Ø§Ù„Ø¯Ø§Ø¦Ù… Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ²ÙˆÙ„ ÙˆÙ„Ø§ ÙŠÙÙ†Ù‰.' },
        { name: 'Ø§Ù„Ù’ÙˆÙØ§Ø±ÙØ«Ù', meaning: 'ÙŠØ¨Ù‚Ù‰ Ø¨Ø¹Ø¯ ÙÙ†Ø§Ø¡ ÙƒÙ„ Ø´ÙŠØ¡ØŒ ÙˆÙŠØ±Ø« Ù…Ù„ÙƒÙ‡ Ù„Ù…Ù† ÙŠØ´Ø§Ø¡.' },
        { name: 'Ø§Ù„Ø±ÙÙ‘Ø´ÙÙŠØ¯Ù', meaning: 'Ø§Ù„Ø°ÙŠ ÙŠØ±Ø´Ø¯ Ø¹Ø¨Ø§Ø¯Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ù‚ØŒ ÙˆÙŠØ¯Ù„Ù‡Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø®ÙŠØ±.' },
        { name: 'Ø§Ù„ØµÙÙ‘Ø¨ÙÙˆØ±Ù', meaning: 'Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØªØ¹Ø¬Ù„ Ø¨Ø§Ù„Ø¹Ù‚ÙˆØ¨Ø©ØŒ ÙˆÙŠÙ…Ù‡Ù„ Ø§Ù„Ø¸Ø§Ù„Ù…ÙŠÙ†.' }
    ];
    const wuduSteps = [{ emoji: 'ğŸ‘', text: 'Ø£ÙÙ‚ÙÙˆÙ„Ù Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙØ£ÙÙ†Ù’ÙˆÙÙŠ Ø§Ù„Ù’ÙˆÙØ¶ÙÙˆØ¡ÙØŒ Ø«ÙÙ…Ù‘Ù Ø£ÙØºÙ’Ø³ÙÙ„Ù ÙƒÙÙÙ‘ÙÙŠÙ‘Ù Ø«ÙÙ„ÙØ§Ø«Ù Ù…ÙØ±Ù‘ÙØ§ØªÙ.' }, { emoji: 'ğŸ‘„', text: 'Ø£ÙØªÙÙ…ÙØ¶Ù’Ù…ÙØ¶Ù Ø«ÙÙ„ÙØ§Ø«Ù Ù…ÙØ±Ù‘ÙØ§ØªÙ.' }, { emoji: 'ğŸ‘ƒ', text: 'Ø£ÙØ³Ù’ØªÙÙ†Ù’Ø´ÙÙ‚Ù ÙˆÙØ£ÙØ³Ù’ØªÙÙ†Ù’Ø«ÙØ±Ù Ø«ÙÙ„ÙØ§Ø«Ù Ù…ÙØ±Ù‘ÙØ§ØªÙ.' }, { emoji: 'ğŸ˜Š', text: 'Ø£ÙØºÙ’Ø³ÙÙ„Ù ÙˆÙØ¬Ù’Ù‡ÙÙŠ ÙƒÙØ§Ù…ÙÙ„Ù‹Ø§ Ø«ÙÙ„ÙØ§Ø«Ù Ù…ÙØ±Ù‘ÙØ§ØªÙ.' }, { emoji: 'ğŸ’ª', text: 'Ø£ÙØºÙ’Ø³ÙÙ„Ù ÙŠÙØ¯ÙÙŠÙ Ø§Ù„Ù’ÙŠÙÙ…Ù’Ù†ÙÙ‰ Ø«ÙÙ…Ù‘Ù Ø§Ù„Ù’ÙŠÙØ³Ù’Ø±ÙÙ‰ Ø¥ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ù…ÙØ±Ù’ÙÙÙ‚Ù.' }, { emoji: 'ğŸ‘±â€â™‚ï¸', text: 'Ø£ÙÙ…Ù’Ø³ÙØ­Ù Ø±ÙØ£Ù’Ø³ÙÙŠ Ù…ÙØ±Ù‘ÙØ©Ù‹ ÙˆÙØ§Ø­ÙØ¯ÙØ©Ù‹.' }, { emoji: 'ğŸ‘‚', text: 'Ø£ÙÙ…Ù’Ø³ÙØ­Ù Ø£ÙØ°ÙÙ†ÙÙŠÙ‘Ù Ù…ÙØ±Ù‘ÙØ©Ù‹ ÙˆÙØ§Ø­ÙØ¯ÙØ©Ù‹.' }, { emoji: 'ğŸ¦¶', text: 'Ø£ÙØºÙ’Ø³ÙÙ„Ù Ø±ÙØ¬Ù’Ù„ÙÙŠÙ Ø§Ù„Ù’ÙŠÙÙ…Ù’Ù†ÙÙ‰ Ø«ÙÙ…Ù‘Ù Ø§Ù„Ù’ÙŠÙØ³Ù’Ø±ÙÙ‰ Ø¥ÙÙ„ÙÙ‰ Ø§Ù„Ù’ÙƒÙØ¹Ù’Ø¨ÙÙŠÙ’Ù†Ù.' }, { emoji: 'â˜ï¸', text: 'Ø£ÙÙ‚ÙÙˆÙ„Ù: "Ø£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†Ù’ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ù‘ÙØ§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù..."' }];
    const salatSteps = [{ emoji: 'ğŸ§â€â™‚ï¸', text: 'Ø£ÙÙ‚ÙÙÙ Ù…ÙØ³Ù’ØªÙÙ‚Ù’Ø¨ÙÙ„Ù‹Ø§ Ø§Ù„Ù’Ù‚ÙØ¨Ù’Ù„ÙØ©Ù ÙˆÙØ£ÙÙƒÙØ¨Ù‘ÙØ±Ù.' }, { emoji: 'ğŸ“–', text: 'Ø£ÙÙ‚Ù’Ø±ÙØ£Ù Ø§Ù„Ù’ÙÙØ§ØªÙØ­ÙØ©Ù ÙˆÙØ³ÙÙˆØ±ÙØ©Ù‹ Ù‚ÙØµÙÙŠØ±ÙØ©Ù‹.' }, { emoji: 'ğŸ™‡â€â™‚ï¸', text: 'Ø£ÙØ±Ù’ÙƒÙØ¹Ù ÙˆÙØ£ÙÙ‚ÙÙˆÙ„Ù "Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø±ÙØ¨Ù‘ÙÙŠÙ Ø§Ù„Ù’Ø¹ÙØ¸ÙÙŠÙ…Ù".' }, { emoji: 'ğŸ§â€â™‚ï¸', text: 'Ø£ÙØ¹Ù’ØªÙØ¯ÙÙ„Ù Ù‚ÙØ§Ø¦ÙÙ„Ù‹Ø§ "Ø³ÙÙ…ÙØ¹Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù„ÙÙ…ÙÙ†Ù’ Ø­ÙÙ…ÙØ¯ÙÙ‡Ù".' }, { emoji: 'ğŸ§â€â™‚ï¸', text: 'Ø£ÙØ³Ù’Ø¬ÙØ¯Ù ÙˆÙØ£ÙÙ‚ÙÙˆÙ„Ù "Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø±ÙØ¨Ù‘ÙÙŠÙ Ø§Ù„Ù’Ø£ÙØ¹Ù’Ù„ÙÙ‰".' }, { emoji: 'ğŸ§â€â™‚ï¸', text: 'Ø£ÙØ¬Ù’Ù„ÙØ³Ù Ø¨ÙÙŠÙ’Ù†Ù Ø§Ù„Ø³Ù‘ÙØ¬Ù’Ø¯ÙØªÙÙŠÙ’Ù†Ù.' }, { emoji: 'ğŸ§â€â™‚ï¸', text: 'Ø£ÙØ³Ù’Ø¬ÙØ¯Ù Ù…ÙØ±Ù‘ÙØ©Ù‹ Ø«ÙØ§Ù†ÙÙŠÙØ©Ù‹.' }, { emoji: 'ğŸ§â€â™‚ï¸', text: 'Ø£ÙÙ‚ÙÙˆÙ…Ù Ù„ÙÙ„Ø±Ù‘ÙÙƒÙ’Ø¹ÙØ©Ù Ø§Ù„Ø«Ù‘ÙØ§Ù†ÙÙŠÙØ©Ù.' }, { emoji: 'ğŸ§â€â™‚ï¸', text: 'Ø£ÙØ¬Ù’Ù„ÙØ³Ù Ù„ÙÙ„ØªÙ‘ÙØ´ÙÙ‡Ù‘ÙØ¯Ù.' }, { emoji: 'ğŸ‘‹', text: 'Ø£ÙØ³ÙÙ„Ù‘ÙÙ…Ù Ø¹ÙÙ†Ù’ ÙŠÙÙ…ÙÙŠÙ†ÙÙŠ ÙˆÙØ´ÙÙ…ÙØ§Ù„ÙÙŠ.' }];
    const achievementsData = [
        { id: 'points100', title: 'Ù…Ø³ØªÙƒØ´Ù Ø¨Ø±ÙˆÙ†Ø²ÙŠ', desc: 'Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ 100 Ù†Ù‚Ø·Ø©', icon: 'ğŸ¥‰', condition: (state) => state.points >= 100 }, 
        { id: 'points500', title: 'Ø¹Ø§Ù„Ù… ÙØ¶ÙŠ', desc: 'Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ 500 Ù†Ù‚Ø·Ø©', icon: 'ğŸ¥ˆ', condition: (state) => state.points >= 500 }, 
        { id: 'points1000', title: 'Ø®Ø¨ÙŠØ± Ø°Ù‡Ø¨ÙŠ', desc: 'Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ 1000 Ù†Ù‚Ø·Ø©', icon: 'ğŸ¥‡', condition: (state) => state.points >= 1000 }, 
        { id: 'wuduExpert', title: 'Ø®Ø¨ÙŠØ± Ø§Ù„ÙˆØ¶ÙˆØ¡', desc: 'Ø¥ÙƒÙ…Ø§Ù„ Ø¯Ù„ÙŠÙ„ Ø§Ù„ÙˆØ¶ÙˆØ¡', icon: 'ğŸ’§', condition: (state) => state.guidesCompleted.includes('wudu') }, 
        { id: 'salatExpert', title: 'Ø§Ù„Ù…ØµÙ„ÙŠ Ø§Ù„Ø®Ø§Ø´Ø¹', desc: 'Ø¥ÙƒÙ…Ø§Ù„ Ø¯Ù„ÙŠÙ„ Ø§Ù„ØµÙ„Ø§Ø©', icon: 'ğŸ•Œ', condition: (state) => state.guidesCompleted.includes('salat') }, 
        { id: 'storyTeller', title: 'Ø±Ø§ÙˆÙŠ Ø§Ù„Ù‚ØµØµ', desc: 'Ù‚Ø±Ø§Ø¡Ø© 5 Ù‚ØµØµ', icon: 'ğŸ“š', condition: (state) => state.storiesRead >= 5 }, 
        { id: 'hifzMaster', title: 'Ø­Ø§ÙØ¸ Ù…ØªÙ‚Ù†', desc: 'Ø¥ØªÙ‚Ø§Ù† 10 Ø¢ÙŠØ§Øª', icon: 'âœ…', condition: (state) => Object.values(state.hifzProgress).filter(s => s === 'mastered').length >= 10 }, 
        { id: 'asmaLearner10', title: 'Ø¹Ø§Ø±Ù Ø¨Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ (10)', desc: 'ØªØ¹Ù„Ù… 10 Ø£Ø³Ù…Ø§Ø¡ Ù…Ù† Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­Ø³Ù†Ù‰', icon: 'ğŸŒŸ', condition: (state) => state.learnedAsma.length >= 10 },
        { id: 'asmaLearnerAll', title: 'Ù…Ø­ÙŠØ· Ø¨Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ (99)', desc: 'ØªØ¹Ù„Ù… Ø¬Ù…ÙŠØ¹ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­Ø³Ù†Ù‰', icon: 'ğŸ’«', condition: (state) => state.learnedAsma.length >= 99 }
    ];
    const surahEmojiGameData = [{ emojis: "ğŸ˜ ğŸ¦ ğŸª¨", options: ["Ø§Ù„ÙÙŠÙ„", "Ù‚Ø±ÙŠØ´", "Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†"], answer: "Ø§Ù„ÙÙŠÙ„" }, { emojis: "ğŸ—£ï¸ ğŸ”¥ â›“ï¸", options: ["Ø§Ù„Ù‡Ù…Ø²Ø©", "Ø§Ù„Ù…Ø³Ø¯", "Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†"], answer: "Ø§Ù„Ù…Ø³Ø¯" }];
    let guessSurahGameData = { 
        allSurahs: [], 
        correctAnswer: '', 
        audioUrl: '',
        currentAyahText: '',
        currentAyahNumber: '',
        currentSurahName: '',
        correctSurahNumber: null 
    };

    // --- INITIALIZATION ---
    document.addEventListener('DOMContentLoaded', initializeApp);

    function initializeApp() {
        let progress = 0;
        const loadingBar = document.getElementById('loadingBar');
        const loadingInterval = setInterval(() => {
            progress += 10;
            if (loadingBar) loadingBar.style.width = progress + '%';
            if (progress >= 100) {
                clearInterval(loadingInterval);
                setTimeout(() => {
                    document.getElementById('splashScreen').style.display = 'none';
                    document.getElementById('mainApp').classList.remove('hidden');
                    loadUserData(); // Load user data first
                    checkChildName(); // Then check for child name
                    loadAllSections(); // Load content for all sections
                    showSection('home'); // Show the home section initially
                }, 500);
            }
        }, 120);
        audioPlayer.addEventListener('ended', playNextVerse);
    }

    // --- USER DATA MANAGEMENT ---
    function saveUserData() {
        try {
            localStorage.setItem('userState', JSON.stringify(userState));
            localStorage.setItem('dailyProgress', JSON.stringify(dailyProgress));
        } catch (e) {
            console.error("Failed to save data to localStorage", e);
        }
    }

    function loadUserData() {
        try {
            const savedState = localStorage.getItem('userState');
            if (savedState) {
                userState = JSON.parse(savedState);
                // Ensure new properties are initialized if they don't exist
                if (userState.learnedAsma === undefined) userState.learnedAsma = [];
                if (userState.prayerStreak === undefined) userState.prayerStreak = 0;
                if (userState.lastPrayerStreakDate === undefined) userState.lastPrayerStreakDate = null;
                if (userState.dailyTargetDeeds === undefined) userState.dailyTargetDeeds = 3; // Default target deeds
                if (userState.achievedDailyPrayerGoalToday === undefined) userState.achievedDailyPrayerGoalToday = false;
                if (userState.achievedDailyDeedGoalToday === undefined) userState.achievedDailyDeedGoalToday = false;
            } else {
                // Initialize userState with default values
                userState = {
                    points: 0,
                    unlockedAchievements: [],
                    childAvatar: 'ğŸ˜Š',
                    guidesCompleted: [],
                    storiesRead: 0,
                    versesRecorded: 0,
                    learnedAsma: [],
                    hifzProgress: {},
                    prayerStreak: 0,
                    lastPrayerStreakDate: null,
                    dailyTargetDeeds: 3,
                    achievedDailyPrayerGoalToday: false,
                    achievedDailyDeedGoalToday: false
                };
            }
        } catch (e) {
            console.error("Failed to parse userState from localStorage", e);
            // Fallback to default state in case of error
            userState = {
                points: 0,
                unlockedAchievements: [],
                childAvatar: 'ğŸ˜Š',
                guidesCompleted: [],
                storiesRead: 0,
                versesRecorded: 0,
                learnedAsma: [],
                hifzProgress: {},
                prayerStreak: 0,
                lastPrayerStreakDate: null,
                dailyTargetDeeds: 3,
                achievedDailyPrayerGoalToday: false,
                achievedDailyDeedGoalToday: false
            };
        }
        
        document.getElementById('pointsDisplay').textContent = userState.points;

        try {
            const savedProgress = JSON.parse(localStorage.getItem('dailyProgress'));
            const today = new Date().toISOString().slice(0, 10);
            if (savedProgress && savedProgress.date === today) {
                dailyProgress = savedProgress;
                // Ensure inner structures exist for today's progress
                if (!dailyProgress.prayersMarkedToday) dailyProgress.prayersMarkedToday = [];
                if (!dailyProgress.deedsMarkedToday) dailyProgress.deedsMarkedToday = [];
            } else {
                // Reset for a new day
                dailyProgress = { 
                    date: today, 
                    prayersMarkedToday: [], 
                    deedsMarkedToday: [] 
                };
                // Reset today's goal achievement flags
                userState.achievedDailyPrayerGoalToday = false;
                userState.achievedDailyDeedGoalToday = false;
            }
        } catch (e) {
            console.error("Failed to parse dailyProgress from localStorage", e);
            const today = new Date().toISOString().slice(0, 10);
            dailyProgress = { date: today, prayersMarkedToday: [], deedsMarkedToday: [] };
            userState.achievedDailyPrayerGoalToday = false;
            userState.achievedDailyDeedGoalToday = false;
        }
        saveUserData(); 
    }

    function checkChildName() {
        let name = localStorage.getItem('childName');
        if (!name) {
            name = prompt("Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ! Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù…Ùƒ ÙŠØ§ ØµØ¯ÙŠÙ‚ÙŠØŸ", "Ø¨Ø·Ù„ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…");
            localStorage.setItem('childName', name || "Ø¨Ø·Ù„ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…");
        }
        document.getElementById('childName').textContent = name;
    }

    // --- CORE APP LOGIC & NAVIGATION ---
    function showSection(sectionId) {
        stopAudio();
        stopSpeaking();
        closeGuide();
        document.querySelectorAll('.section-content').forEach(s => s.classList.add('hidden'));
        document.getElementById(sectionId).classList.remove('hidden');
        document.querySelectorAll('.nav-item').forEach(item => {
            item.classList.remove('active');
            if (item.getAttribute('onclick')?.includes(`'${sectionId}'`)) {
                item.classList.add('active');
            }
        });
        window.scrollTo(0, 0);
        if (sectionId === 'home') loadHomePage();
        if (sectionId === 'profile') loadProfileSection();
    }

    function loadAllSections() {
        loadHomePage();
        loadQuranSection();
        loadWorshipSection();
        loadStoriesSection();
        loadDuasSection();
        loadAsmaSection();
        loadProfileSection();
        loadGamesSection();
    }

    function updatePoints(amount, isIncrement = false) {
        if (isIncrement) {
            userState.points += amount;
        } else {
            userState.points = amount;
        }
        document.getElementById('pointsDisplay').textContent = userState.points;
        if (isIncrement && amount > 0) {
            showNotification(`+${amount} Ù†Ù‚Ø·Ø©! Ø£Ø­Ø³Ù†Øª!`, 'success');
        }
        checkAndUnlockAchievements(); // Check achievements whenever points update
        saveUserData(); // Save points
    }

    // --- SECTION LOADERS ---
    function loadHomePage() {
        const homeSection = document.getElementById('home');
        const dayOfYear = Math.floor((new Date() - new Date(new Date().getFullYear(), 0, 0)) / 86400000);
        const versesForReview = Object.keys(userState.hifzProgress).filter(key => userState.hifzProgress[key] === 'review');
        const masteredCount = Object.values(userState.hifzProgress).filter(s => s === 'mastered').length;

        let hifzStatusHTML = `<div class="bg-blue-50 border-r-4 border-blue-400 p-4 rounded-lg">
            <h3 class="font-bold text-blue-800 mb-2">Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„Ø© Ø§Ù„Ø­ÙØ¸!</h3>
            <p class="text-sm text-blue-700">Ø§Ø°Ù‡Ø¨ Ù„Ù‚Ø³Ù… Ø§Ù„Ù‚Ø±Ø¢Ù†ØŒ Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ø¢ÙŠØ§Øª ÙˆØ³Ø¬Ù„Ù‡Ø§ Ø¨ØµÙˆØªÙƒØŒ Ø«Ù… Ø­Ø¯Ø¯ Ø§Ù„Ø¢ÙŠØ§Øª Ø§Ù„ØªÙŠ Ø£ØªÙ‚Ù†ØªÙ‡Ø§ Ø£Ùˆ ØªØ­ØªØ§Ø¬ Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©.</p>
        </div>`;

        if (versesForReview.length > 0) {
            hifzStatusHTML = `<div class="bg-amber-50 border-r-4 border-amber-400 p-4 rounded-lg">
                <h3 class="font-bold text-amber-800 mb-2">ğŸ“ Ø¢ÙŠØ§Øª Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© (${versesForReview.length})</h3>
                <div class="space-y-2 mt-2">
                    ${versesForReview.slice(0, 3).map(key => { // Show only first 3 for brevity
                        const [surahNum, ayahNum] = key.split('-');
                        const surahMeta = allSurahsMeta.find(s => s.number == surahNum);
                        const surahName = surahMeta ? surahMeta.name : 'Ø³ÙˆØ±Ø©';
                        return `<div class="flex justify-between items-center bg-white p-2 rounded-md cursor-pointer hover:bg-amber-100" onclick="goToVerse(${surahNum}, ${ayahNum})">
                            <span>${surahName}: Ø¢ÙŠØ© ${ayahNum}</span>
                            <span class="text-sm">Ù…Ø±Ø§Ø¬Ø¹Ø©</span>
                        </div>`;
                    }).join('')}
                    ${versesForReview.length > 3 ? '<p class="text-xs text-blue-600 cursor-pointer" onclick="showSection(\'quran\');">... Ø§Ù„Ù…Ø²ÙŠØ¯</p>' : ''}
                </div>
            </div>`;
        }

        homeSection.innerHTML = `
            <div class="grid grid-cols-2 md:grid-cols-4 gap-2 mb-4">
                <div class="stats-card">ğŸ•Œ<div class="text-xl font-bold">${dailyProgress.prayersMarkedToday.length}</div><div class="text-xs opacity-90">ØµÙ„ÙˆØ§Øª</div></div>
                <div class="stats-card">ğŸ†<div class="text-xl font-bold">${userState.points}</div><div class="text-xs opacity-90">Ù†Ù‚Ø·Ø©</div></div>
                <div class="stats-card">âœ…<div class="text-xl font-bold">${masteredCount}</div><div class="text-xs opacity-90">Ø¢ÙŠØ§Øª Ù…ØªÙ‚Ù†Ø©</div></div>
                <div class="stats-card">ğŸ–ï¸<div class="text-xl font-bold">${userState.unlockedAchievements.length}</div><div class="text-xs opacity-90">Ø£ÙˆØ³Ù…Ø©</div></div>
            </div>
            <div class="mb-4">${hifzStatusHTML}</div>
            <div style="background:linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);" class="rounded-xl p-4 text-center shadow-md mb-4"><h3 class="text-xl font-bold text-purple-700 mb-2">âœ¨ Ø¢ÙŠØ© Ø§Ù„ÙŠÙˆÙ…</h3><p class="text-gray-800">${dailyAyahs[dayOfYear % dailyAyahs.length]}</p></div>
            <div style="background:linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);" class="rounded-xl p-4 text-center shadow-md"><h3 class="text-xl font-bold text-orange-700 mb-2">ğŸ¤² Ø¯Ø¹Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ…</h3><p class="text-gray-800">${dailyDuasData[dayOfYear % dailyDuasData.length]}</p></div>`;
    }

    function loadQuranSection() {
        document.getElementById('quran').innerHTML = `<div class="bg-white rounded-2xl shadow-xl p-6"><h2 class="text-3xl font-bold text-center text-green-700 mb-6">Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</h2>
            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div><label for="surahSelect" class="font-bold text-gray-700 mb-2 block">Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø©:</label><select id="surahSelect" class="w-full p-3 border-2 border-gray-300 rounded-lg text-lg" onchange="loadSurah()"></select></div>
                <div><label for="reciterSelect" class="font-bold text-gray-700 mb-2 block">Ø§Ù„Ù‚Ø§Ø±Ø¦:</label>
                <select id="reciterSelect" class="w-full p-3 border-2 border-gray-300 rounded-lg text-lg">
                    <option value="ar.alafasy">Ù…Ø´Ø§Ø±ÙŠ Ø§Ù„Ø¹ÙØ§Ø³ÙŠ</option>
                    <option value="ar.yasin_alzain">ÙŠØ§Ø³ÙŠÙ† Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠ</option>
                    <option value="ar.sudais">Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø³Ø¯ÙŠØ³</option>
                    <option value="ar.ajmy">Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø¹Ù„ÙŠ Ø§Ù„Ø¹Ø¬Ù…ÙŠ</option>
                    <option value="ar.maheralmuaiqly">Ù…Ø§Ù‡Ø± Ø§Ù„Ù…Ø¹ÙŠÙ‚Ù„ÙŠ</option>
                    <option value="ar.minshawi_mujji">Ù…Ø­Ù…Ø¯ ØµØ¯ÙŠÙ‚ Ø§Ù„Ù…Ù†Ø´Ø§ÙˆÙŠ (Ù…Ø¬ÙˆØ¯)</option>
                    <option value="ar.saad_alghamdi">Ø³Ø¹Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ</option>
                </select>
                </div>
            </div>
            <button onclick="playRecitation()" class="w-full bg-green-500 text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-600 mb-6">Ø§Ø³ØªÙ…Ø¹ Ù„Ù„ØªÙ„Ø§ÙˆØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ø³ÙˆØ±Ø©</button>
            <div class="text-center mb-4 bg-gray-100 p-3 rounded-lg flex items-center justify-center gap-4">
                <button onclick="playPrevVerse()" class="text-3xl">â®ï¸</button>
                <button id="playBtn" onclick="togglePlayPause()" class="text-5xl text-green-600">â–¶ï¸</button>
                <button onclick="playNextVerse()" class="text-3xl">â­ï¸</button>
                <button onclick="repeatCurrentAyah()" class="text-3xl">ğŸ”</button>
            </div>
            <div id="quranTextWrapper" class="bg-yellow-50 p-4 rounded-lg"><div id="quranText"></div></div>
        </div>`;
        populateSurahSelect(document.getElementById('surahSelect'));
    }

    function loadWorshipSection() {
        const prayerNames = ['Ø§Ù„ÙØ¬Ø±', 'Ø§Ù„Ø¸Ù‡Ø±', 'Ø§Ù„Ø¹ØµØ±', 'Ø§Ù„Ù…ØºØ±Ø¨', 'Ø§Ù„Ø¹Ø´Ø§Ø¡'];
        const deedNames = ['Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„ÙˆØ§Ù„Ø¯ÙŠÙ†', 'Ø§Ù„ØµØ¯Ù‚Ø©', 'Ø§Ù„Ø§Ø¨ØªØ³Ø§Ù…Ø©', 'Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†', 'Ø°ÙƒØ± Ø§Ù„Ù„Ù‡']; // Added 'Ø°ÙƒØ± Ø§Ù„Ù„Ù‡' and potential for more
        const deedsPoints = 10; // Points per deed
        const prayerPoints = 5; // Points per prayer

        // Determine today's progress
        const completedPrayers = dailyProgress.prayersMarkedToday || [];
        const completedDeeds = dailyProgress.deedsMarkedToday || [];

        const allPrayersDoneToday = completedPrayers.length === prayerNames.length;
        const deedsProgress = completedDeeds.length;
        const deedsGoalMet = deedsProgress >= userState.dailyTargetDeeds;

        // Update daily goal flags in userState if not already set for today
        if (!userState.achievedDailyPrayerGoalToday && allPrayersDoneToday) {
            userState.achievedDailyPrayerGoalToday = true;
        }
        if (!userState.achievedDailyDeedGoalToday && deedsGoalMet) {
            userState.achievedDailyDeedGoalToday = true;
        }

        // Update streaks
        const today = new Date().toISOString().slice(0, 10);
        if (userState.lastPrayerStreakDate !== today) { // Only update if date is different from last recorded streak date
            if (allPrayersDoneToday) {
                if (userState.lastPrayerStreakDate === null || isDateOneDayBefore(userState.lastPrayerStreakDate, today)) {
                    userState.prayerStreak++;
                    userState.lastPrayerStreakDate = today;
                } else { // Streak broken
                    userState.prayerStreak = 1;
                    userState.lastPrayerStreakDate = today;
                }
            } else { // Prayers not all done today, streak might break tomorrow
                // We don't reset streak here, it will be naturally reset if next day is not completed.
                // However, if the streak was broken yesterday, we don't want to reset it if today is also broken.
                // For simplicity, we only increment or reset to 1 if today is completed and valid.
                // If not completed, the streak value remains as is until the next valid completion or reset.
                // A more robust approach would be to check for streak break on loading.
            }
        }

        // Save updated userState immediately for streaks and flags
        saveUserData();

        // Calculate bonus points for today
        let todayBonusPoints = 0;
        if (allPrayersDoneToday && !userState.achievedDailyPrayerGoalToday) { // Award prayer goal bonus only once per day
             todayBonusPoints += 20; // Bonus for completing all prayers
             userState.achievedDailyPrayerGoalToday = true; // Mark as achieved for today
        }
        if (deedsProgress >= userState.dailyTargetDeeds && !userState.achievedDailyDeedGoalToday) { // Award deed goal bonus only once per day
            todayBonusPoints += 15; // Bonus for completing deed goal
            userState.achievedDailyDeedGoalToday = true; // Mark as achieved for today
        }
        
        if(todayBonusPoints > 0) {
            updatePoints(todayBonusPoints, true); // Add bonus points
        }

        // --- Render HTML ---
        document.getElementById('worship').innerHTML = `
        <div class="bg-white rounded-2xl shadow-xl p-8">
            <h2 class="text-3xl font-bold text-center text-pink-700 mb-8">Ø¹ÙØ¨ÙØ§Ø¯ÙØ§ØªÙÙŠ</h2>
            
            <h3 class="text-2xl font-bold text-blue-700 mb-4 flex items-center justify-center gap-2">
                ğŸ’§ ÙƒÙÙŠÙ’ÙÙ Ø£ÙØªÙÙˆÙØ¶Ù‘ÙØ£ÙØŸ
                <span class="text-sm font-normal text-gray-500">(ØªØ¹Ù„Ù… Ø§Ù„ÙˆØ¶ÙˆØ¡)</span>
            </h3>
            <button onclick="showGuide('wudu')" class="w-full bg-gradient-to-r from-blue-400 to-blue-600 text-white p-4 rounded-lg text-center text-xl font-bold mb-8">
                ğŸ“– ØªØ¹Ù„Ù… Ø®Ø·ÙˆØ§Øª Ø§Ù„ÙˆØ¶ÙˆØ¡
            </button>

            <h3 class="text-2xl font-bold text-green-700 mb-4 flex items-center justify-center gap-2">
                ğŸ•Œ ÙƒÙÙŠÙ’ÙÙ Ø£ÙØµÙÙ„Ù‘ÙÙŠØŸ
                <span class="text-sm font-normal text-gray-500">(ØªØ¹Ù„Ù… Ø§Ù„ØµÙ„Ø§Ø©)</span>
            </h3>
            <button onclick="showGuide('salat')" class="w-full bg-gradient-to-r from-green-400 to-green-600 text-white p-4 rounded-lg text-center text-xl font-bold mb-12">
                ğŸ“– ØªØ¹Ù„Ù… Ø®Ø·ÙˆØ§Øª Ø§Ù„ØµÙ„Ø§Ø©
            </button>

            <hr class="my-8 border-t-2 border-gray-200">

            <h3 class="text-2xl font-bold text-indigo-700 mb-6 flex items-center justify-center gap-2">
                âœ¨ ØµÙÙ„ÙÙˆÙØ§ØªÙÙŠ Ø§Ù„Ù’ÙŠÙÙˆÙ’Ù…Ù 
                <span class="text-sm font-normal text-gray-500">(ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ù‡Ø¯Ù Ø§Ù„ÙŠÙˆÙ…ÙŠ)</span>
            </h3>
            <div class="flex justify-center items-center space-x-4 mb-6">
                <div class="flex items-center space-x-2">
                    <div class="text-2xl">ğŸ”¥</div>
                    <div class="text-lg font-bold text-orange-600">${userState.prayerStreak}</div>
                    <div class="text-sm text-gray-600">ÙŠÙˆÙ…</div>
                </div>
                <div class="flex flex-col items-center">
                    <div class="flex justify-center gap-2 mb-2">
                        ${prayerNames.map(pName => {
                            const isCompleted = completedPrayers.includes(pName);
                            return `
                            <div 
                                id="prayer-${pName.toLowerCase()}"
                                onclick="handlePrayerClick('${pName}', ${prayerPoints})"
                                class="cursor-pointer p-3 rounded-full transition-all duration-300 
                                ${isCompleted ? 'bg-gradient-to-br from-green-400 to-green-500 shadow-md scale-110' : 'bg-gray-200 hover:bg-gray-300'}"
                                title="${pName}"
                            >
                                <svg class="h-8 w-8 fill-current ${isCompleted ? 'text-white' : 'text-gray-700'}">
                                    ${getPrayerIconSVG(pName)}
                                </svg>
                            </div>`;
                        }).join('')}
                    </div>
                    <div class="text-sm font-bold ${allPrayersDoneToday ? 'text-green-600' : 'text-gray-700'}">
                        ${allPrayersDoneToday ? 'âœ… Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„ÙŠÙˆÙ…' : `(${completedPrayers.length}/${prayerNames.length}) Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©`}
                    </div>
                </div>
            </div>

            <hr class="my-8 border-t-2 border-gray-200">

            <h3 class="text-2xl font-bold text-purple-700 mb-6 flex items-center justify-center gap-2">
                âœ¨ Ø£Ø¹Ù…Ø§Ù„ÙŠ Ø§Ù„ØµØ§Ù„Ø­Ø© Ø§Ù„ÙŠÙˆÙ… 
                <span class="text-sm font-normal text-gray-500">(Ù‡Ø¯Ù ${userState.dailyTargetDeeds} Ø£Ø¹Ù…Ø§Ù„)</span>
            </h3>
            <div class="flex flex-col items-center justify-center gap-4 mb-8">
                <div class="w-full max-w-md bg-gray-100 rounded-full h-6">
                    <div id="deedProgressBar" class="bg-yellow-500 h-6 rounded-full text-xs font-bold text-white text-center p-1 transition-all duration-500" style="width: ${(deedsProgress / userState.dailyTargetDeeds) * 100}%">
                        ${deedsProgress} / ${userState.dailyTargetDeeds}
                    </div>
                </div>
                <div class="text-sm font-bold ${deedsGoalMet ? 'text-green-600' : 'text-gray-700'}">
                    ${deedsGoalMet ? 'âœ… Ù‡Ø¯Ù Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù…Ø­Ù‚Ù‚!' : `(${deedsProgress}/${userState.dailyTargetDeeds}) Ø£Ø¹Ù…Ø§Ù„ ØµØ§Ù„Ø­Ø©`}
                </div>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                ${deedNames.map(dName => {
                    const isDone = completedDeeds.includes(dName);
                    return `
                    <div 
                        id="deed-${dName.toLowerCase().replace(/\s+/g, '')}"
                        onclick="handleDailyTask('${dName}', ${deedsPoints})"
                        class="cursor-pointer p-4 rounded-xl text-center transition-all duration-300 
                        ${isDone ? 'bg-gradient-to-br from-purple-400 to-purple-500 shadow-md scale-105' : 'bg-gray-100 hover:bg-gray-200'}
                        ${isDone && !userState.achievedDailyDeedGoalToday ? 'animate-bounce' : ''}
                        "
                        title="${dName}"
                    >
                        <div class="text-3xl mb-2">${getDeedIcon(dName)}</div>
                        <h4 class="font-bold text-sm ${isDone ? 'text-white' : 'text-gray-800'}">${dName}</h4>
                        ${isDone ? '<div class="absolute -top-2 -right-2 text-green-500 font-bold text-xs">âœ”</div>' : ''}
                    </div>`;
                }).join('')}
            </div>
        </div>`;
    }

    // Helper function to get prayer icons based on name
    function getPrayerIconSVG(prayerName) {
        switch(prayerName.toLowerCase()) {
            case 'Ø§Ù„ÙØ¬Ø±': return '<path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm0 2c5.523 0 10 4.477 10 10s-4.477 10-10 10-10-4.477-10-10 4.477-10 10-10z"/><circle cx="12" cy="12" r="4"/>';
            case 'Ø§Ù„Ø¸Ù‡Ø±': return '<path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm0 2c5.523 0 10 4.477 10 10s-4.477 10-10 10-10-4.477-10-10 4.477-10 10-10zm-2 9a1 1 0 0 1 2 0v3a1 1 0 0 1-2 0v-3z"/>';
            case 'Ø§Ù„Ø¹ØµØ±': return '<path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm0 2c5.523 0 10 4.477 10 10s-4.477 10-10 10-10-4.477-10-10 4.477-10 10-10zm3 5a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2h6z"/>';
            case 'Ø§Ù„Ù…ØºØ±Ø¨': return '<path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm0 2c5.523 0 10 4.477 10 10s-4.477 10-10 10-10-4.477-10-10 4.477-10 10-10zm-2 7a1 1 0 0 1 1-1h4a1 1 0 0 1 0 2h-4a1 1 0 0 1-1-1z"/>';
            case 'Ø§Ù„Ø¹Ø´Ø§Ø¡': return '<path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm0 2c5.523 0 10 4.477 10 10s-4.477 10-10 10-10-4.477-10-10 4.477-10 10-10zm3 5a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-4a1 1 0 0 1 1-1h3z"/>';
            default: return '<path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20z"/>'; // Default fallback
        }
    }

    // Helper function to get deed icons (simple emojis for now)
    function getDeedIcon(deedName) {
        switch(deedName) {
            case 'Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„ÙˆØ§Ù„Ø¯ÙŠÙ†': return 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦';
            case 'Ø§Ù„ØµØ¯Ù‚Ø©': return 'ğŸ’°';
            case 'Ø§Ù„Ø§Ø¨ØªØ³Ø§Ù…Ø©': return 'ğŸ˜Š';
            case 'Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†': return 'ğŸ“–';
            case 'Ø°ÙƒØ± Ø§Ù„Ù„Ù‡': return 'ğŸ“¿';
            default: return 'ğŸŒŸ';
        }
    }

    // General handler for marking prayers and deeds
    // 'itemName' is the name of the prayer or deed (e.g., 'Ø§Ù„ÙØ¬Ø±', 'Ø§Ù„Ø§Ø¨ØªØ³Ø§Ù…Ø©')
    // 'pointsValue' is points for a single item (prayer or deed)
    function handleTaskClick(itemName, pointsValue, isPrayer = false) {
        const today = new Date().toISOString().slice(0, 10);

        // Prevent interactions if date has changed and goals reset implicitly
        if (dailyProgress.date !== today) {
            showNotification("Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¯ÙŠÙ…Ø©ØŒ ÙŠØ±Ø¬Ù‰ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©.", "warning");
            return;
        }

        let currentProgressArray;
        let isAlreadyDone = false;
        let relatedElementId = '';

        if (isPrayer) {
            currentProgressArray = dailyProgress.prayersMarkedToday;
            relatedElementId = `prayer-${itemName.toLowerCase()}`;
        } else {
            currentProgressArray = dailyProgress.deedsMarkedToday;
            relatedElementId = `deed-${itemName.toLowerCase().replace(/\s+/g, '')}`;
        }
        
        isAlreadyDone = currentProgressArray.includes(itemName);

        if (isAlreadyDone) {
            // Item is already marked for today, do nothing.
            // If unmarking is desired, UI and logic needs to be more complex.
            return; 
        }
        
        // Mark the item as done
        currentProgressArray.push(itemName);
        saveUserData(); // Save progress immediately after adding item

        // Update UI and grant points
        const itemElement = document.getElementById(relatedElementId);
        if (itemElement) {
            if (isPrayer) {
                itemElement.classList.add('bg-gradient-to-br', 'from-green-400', 'to-green-500', 'shadow-md', 'scale-110');
                itemElement.querySelector('svg').classList.add('text-white');
                itemElement.classList.remove('bg-gray-200', 'hover:bg-gray-300');
                itemElement.onclick = null; // Disable further clicks for this prayer today
                updatePoints(pointsValue, true); // Award points for each prayer

                // Check if all prayers are now done
                if (dailyProgress.prayersMarkedToday.length === 5) {
                    userState.achievedDailyPrayerGoalToday = true; // Mark goal as achieved
                    updatePoints(20, true); // Bonus for completing all prayers
                    showNotification("ğŸ‰ Ø£Ø­Ø³Ù†Øª! Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„ÙŠÙˆÙ… ØªÙ…Øª.", "success");
                    saveUserData(); // Ensure state is saved before reloading UI
                    loadWorshipSection(); // Refresh UI to show goal achieved status and potentially update streak
                }
            } else { // Deed
                itemElement.classList.add('bg-gradient-to-br', 'from-purple-400', 'to-purple-500', 'shadow-md', 'scale-105');
                itemElement.querySelector('h4').classList.add('text-white');
                itemElement.querySelector('div').classList.add('text-white'); // Make icon white too
                itemElement.innerHTML += '<div class="absolute -top-2 -right-2 text-green-500 font-bold text-xs">âœ”</div>'; // Add checkmark
                itemElement.onclick = null; // Disable further clicks for this deed today
                updatePoints(pointsValue, true); // Award points for deed

                // Update deed progress bar and counter
                const currentDeedsCount = dailyProgress.deedsMarkedToday.length;
                const targetDeeds = userState.dailyTargetDeeds;
                const progressWidth = Math.min((currentDeedsCount / targetDeeds) * 100, 100);
                
                const progressBar = document.getElementById('deedProgressBar');
                if (progressBar) {
                    progressBar.style.width = `${progressWidth}%`;
                    progressBar.textContent = `${currentDeedsCount} / ${targetDeeds}`;
                    
                    // Add animation/highlight if goal is met
                    if (currentDeedsCount >= targetDeeds && !userState.achievedDailyDeedGoalToday) {
                        progressBar.classList.add('bg-gradient-to-br', 'from-purple-500', 'to-purple-600', 'animate-pulse');
                        userState.achievedDailyDeedGoalToday = true; // Mark goal as achieved
                        updatePoints(15, true); // Bonus for completing deed goal
                        showNotification("âœ¨ Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ! Ù„Ù‚Ø¯ Ø­Ù‚Ù‚Øª Ù‡Ø¯Ù Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØµØ§Ù„Ø­Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ….", "success");
                        saveUserData(); // Save updated state
                        loadWorshipSection(); // Refresh section to reflect goal met status on deed buttons
                    }
                }
            }
        }
    }

    // Specific click handlers calling the general handler
    function handlePrayerClick(prayerName, pointsValue) {
        handleTaskClick(prayerName, pointsValue, true);
    }

    function handleDailyTask(deedName, pointsValue) {
        handleTaskClick(deedName, pointsValue, false);
    }

    // Helper function to check if dateString1 is exactly one day before dateString2
    function isDateOneDayBefore(dateString1, dateString2) {
        if (!dateString1) return false; // Cannot compare if dateString1 is null or undefined
        const d1 = new Date(dateString1);
        const d2 = new Date(dateString2);
        // Normalize to start of day to avoid timezone issues if dates are from different times
        d1.setHours(0, 0, 0, 0); 
        d2.setHours(0, 0, 0, 0);
        const diffTime = d2.getTime() - d1.getTime();
        const diffDays = Math.round(diffTime / (1000 * 60 * 60 * 24));
        return diffDays === 1;
    }


    function loadStoriesSection() {
        document.getElementById('stories').innerHTML = `<div class="bg-white rounded-2xl shadow-xl p-8"><h2 class="text-3xl font-bold text-center text-blue-700 mb-8">Ù‚ØµØµ Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡ ÙˆØ§Ù„Ø±Ø³Ù„</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="storiesContainer">${storiesData.map(story => `
                <div class="p-4 rounded-xl bg-gradient-to-br from-orange-100 to-amber-200 cursor-pointer text-center" onclick="showStoryModal('${story.id}')">
                    <div class="text-4xl mb-2">${story.icon}</div>
                    <h4 class="font-bold text-gray-800">${story.title}</h4>
                </div>`).join('')}
            </div>
        </div>`;
    }

    function loadDuasSection() {
        document.getElementById('duas').innerHTML = `<div class="bg-white rounded-2xl shadow-xl p-8"><h2 class="text-3xl font-bold text-center text-yellow-700 mb-8">Ø§Ù„Ø£Ø¯Ø¹ÙŠØ© Ø§Ù„Ù…Ø£Ø«ÙˆØ±Ø©</h2>
            <div id="duasContainer" class="grid md:grid-cols-2 gap-6">${duasData.map(dua => `
                <div class="p-6 rounded-xl border-2 bg-gradient-to-br from-${dua.color}-50 to-${dua.color}-100 border-${dua.color}-200">
                    <h3 class="text-lg font-bold text-${dua.color}-700 mb-3 flex items-center"><span class="text-2xl ml-2">${dua.icon}</span> ${dua.title}</h3>
                    <p class="text-gray-700 mb-4">${dua.text}</p>
                    <button onclick="speakText('${dua.text.replace(/'/g, "\\'").replace(/"/g, '\\"')}')" class="w-full bg-${dua.color}-500 text-white py-2 px-4 rounded-lg">ğŸ”Š Ø§Ø³ØªÙ…Ø¹</button>
                </div>`).join('')}
            </div>
        </div>`;
    }

    function loadAsmaSection() {
        document.getElementById('asma').innerHTML = `<div class="bg-white rounded-2xl shadow-xl p-6"><h2 class="text-3xl font-bold text-center text-teal-600 mb-2">Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­Ø³Ù†Ù‰</h2>
            <p class="text-center text-gray-500 mb-8">ØªØ¹Ù„Ù… Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ù‡ ÙˆØ§ÙƒØ³Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·!</p>
            <div id="asma-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">${asmaAlHusnaData.map((item, index) => `
                <div onclick="showNameMeaning(${index})" class="p-4 rounded-lg text-center cursor-pointer ${userState.learnedAsma.includes(index) ? 'bg-gradient-to-br from-teal-100 to-green-100' : 'bg-gradient-to-br from-yellow-100 to-orange-100'}">
                    <p class="text-xl font-bold text-teal-800">${item.name}</p>
                    ${userState.learnedAsma.includes(index) ? '<span class="text-xs text-green-600 font-bold">âœ“ ØªØ¹Ù„Ù…ØªÙ‡</span>' : ''}
                </div>`).join('')}
            </div>
        </div>`;
    }

    function loadProfileSection() {
        document.getElementById('profile').innerHTML = `<div class="bg-white rounded-2xl shadow-xl p-6 text-center">
            <div onclick="showAvatarSelection()" class="relative inline-block cursor-pointer group">
                <div class="text-8xl bg-gray-200 rounded-full w-32 h-32 flex items-center justify-center mb-4">${userState.childAvatar}</div>
                <div class="absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                    <span class="text-white text-sm font-bold">ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©</span>
                </div>
            </div>
            <h2 class="text-3xl font-bold">${localStorage.getItem('childName') || 'Ø¨Ø·Ù„ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…'}</h2>
            <p class="text-xl text-yellow-500 font-bold mb-8">ğŸ† ${userState.points} Ù†Ù‚Ø·Ø©</p>
            <h3 class="text-2xl font-bold text-gray-700 mb-4 border-t pt-6">Ø§Ù„Ø£ÙˆØ³Ù…Ø© Ø§Ù„ØªÙŠ Ø­ØµÙ„Øª Ø¹Ù„ÙŠÙ‡Ø§</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">${achievementsData.map(ach => {
                const isUnlocked = userState.unlockedAchievements.includes(ach.id);
                return `<div class="p-4 rounded-lg text-center ${isUnlocked ? 'bg-green-100' : 'bg-gray-100 opacity-50'}">
                    <div class="text-5xl mb-2">${ach.icon}</div>
                    <h4 class="font-bold ${isUnlocked ? 'text-green-800' : 'text-gray-700'}">${ach.title}</h4>
                    <p class="text-xs text-gray-500">${ach.desc}</p>
                </div>`;
            }).join('')}</div>
        </div>`;
    }

    function loadGamesSection() {
        document.getElementById('games').innerHTML = `<div class="bg-white rounded-2xl shadow-xl p-6"><h2 class="text-3xl font-bold text-center text-indigo-700 mb-8">ğŸ® Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h2>
            <div class="space-y-4" id="games-menu">
                <div onclick="startEmojiGame()" class="bg-blue-500 text-white p-6 rounded-lg text-center text-xl font-bold cursor-pointer">Ù„Ø¹Ø¨Ø©: Ø§Ø­Ø²Ø± Ø§Ù„Ø³ÙˆØ±Ø© Ø¨Ø§Ù„Ø±Ù…ÙˆØ²</div>
                <div onclick="startCompleteTheAyahGame()" class="bg-green-500 text-white p-6 rounded-lg text-center text-xl font-bold cursor-pointer">Ù„Ø¹Ø¨Ø©: Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¢ÙŠØ©</div>
                <div onclick="startListenAndGuessGame()" class="bg-purple-500 text-white p-6 rounded-lg text-center text-xl font-bold cursor-pointer">Ù„Ø¹Ø¨Ø©: Ø§Ø³ØªÙ…Ø¹ ÙˆØ®Ù…Ù† Ø§Ù„Ø³ÙˆØ±Ø©</div>
            </div>
            <div id="game-board" class="hidden"></div>
        </div>`;
    }

    // --- FEATURE FUNCTIONS (Quran, Worship, Asma, Profile, Achievements, etc.) ---
    async function populateSurahSelect(selectElement) {
        try {
            if (allSurahsMeta.length === 0) {
                const res = await fetch('https://api.alquran.cloud/v1/meta');
                const data = await res.json();
                allSurahsMeta = data.data.surahs.references;
            }
            selectElement.innerHTML = allSurahsMeta.map(s => `<option value="${s.number}">${s.number}. ${s.name}</option>`).join('');
            // Load last read surah or default to Surah Al-Fatiha (1)
            const lastRead = JSON.parse(localStorage.getItem('lastReadVerse')) || { surah: 1, ayah: 1 };
            selectElement.value = lastRead.surah;
            await loadSurah();
        } catch (e) {
            console.error("Failed to load surah list", e);
            selectElement.innerHTML = '<option value="1">1. Ø§Ù„ÙØ§ØªØ­Ø©</option>'; // Fallback
            await loadSurah();
        }
    }
    
    async function loadSurah() {
        stopAudio();
        const surahNumber = document.getElementById('surahSelect').value;
        const reciterValue = document.getElementById('reciterSelect').value; // Get selected reciter
        
        let reciterFolder = "";
        // Existing reciters
        if (reciterValue === "ar.alafasy") {
            reciterFolder = "Alafasy_64kbps";
        } else if (reciterValue === "ar.yasin_alzain") {
            reciterFolder = "YaseenAlJazairi_64kbps"; 
        } 
        // New reciters - common folder names from everyayah.com
        else if (reciterValue === "ar.sudais") { // Abdul Rahman Al-Sudais
            reciterFolder = "Sudais_64kbps";
        } else if (reciterValue === "ar.ajmy") { // Ahmed bin Ali Al-Ajmi
            reciterFolder = "Ajamy_64kbps";
        } else if (reciterValue === "ar.maheralmuaiqly") { // Maher Al-Muaiqly
            reciterFolder = "MaherAlMuaiqly_64kbps";
        } else if (reciterValue === "ar.minshawi_mujji") { // Mohamed Siddiq Al-Minshawi (Mujawwad)
            reciterFolder = "Minshawi_Mujawwad_64kbps";
        } else if (reciterValue === "ar.saad_alghamdi") { // Saad Al-Ghamdi
            reciterFolder = "AlGhamdi_64kbps";
        }
        else {
            reciterFolder = "Alafasy_64kbps"; // Default to Alafasy if unknown value
        }

        const quranTextDiv = document.getElementById('quranText');
        quranTextDiv.innerHTML = '<p class="text-center py-10">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©...</p>';

        try {
            // FIX: Use textResponse instead of response
            const textResponse = await fetch(`https://api.alquran.cloud/v1/surah/${surahNumber}`);
            const textData = await textResponse.json(); // Corrected line

            if (textData.code !== 200) throw new Error(textData.data);

            currentPlaylist = textData.data.ayahs.map(ayah => {
                const surahNumPadded = String(surahNumber).padStart(3, '0');
                const ayahNumPadded = String(ayah.numberInSurah).padStart(3, '0');
                // Construct URL using the determined reciterFolder
                return `https://everyayah.com/data/${reciterFolder}/${surahNumPadded}${ayahNumPadded}.mp3`;
            });

            quranTextDiv.innerHTML = textData.data.ayahs.map((ayah, index) => {
                const hifzKey = `${surahNumber}-${ayah.numberInSurah}`;
                const hifzStatus = userState.hifzProgress[hifzKey] || '';
                const hifzClass = hifzStatus === 'mastered' ? 'mastered-verse' : (hifzStatus === 'review' ? 'review-verse' : '');
                
                // Store last read verse for quick access
                localStorage.setItem('lastReadVerse', JSON.stringify({ surah: surahNumber, ayah: ayah.numberInSurah }));

                return `<div class="verse-container ${hifzClass}" data-verse-index="${index}" data-surah-number="${surahNumber}" data-ayah-number="${ayah.numberInSurah}">
                    <div class="flex-grow"><p class="quran-text">${ayah.text} <span class="text-green-700">ï´¿${ayah.numberInSurah}ï´¾</span></p></div>
                    <div class="flex flex-col items-center space-y-2 mr-4">
                        <button class="text-3xl transition-transform duration-200 hover:scale-125" onclick="toggleRecording(this, ${index})">ğŸ¤</button>
                    </div>
                </div>
                <div id="playback-controls-${index}" class="hidden bg-gray-100 p-2 rounded-lg text-center my-2 space-x-2 space-x-reverse"></div>`;
            }).join('');
        } catch (e) {
            console.error("Error loading Surah:", e);
            quranTextDiv.innerHTML = '<p class="text-center text-red-500 py-10">Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙˆØ±Ø©. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.</p>';
        }
    }
    
    function playRecitation() {
        if (currentPlaylist.length > 0) playTrack(0);
    }
    
    function togglePlayPause() {
        if (isPlaying) {
            audioPlayer.pause();
        } else {
            if (audioPlayer.src) {
                audioPlayer.play();
            } else {
                playRecitation();
            }
        }
        isPlaying = !isPlaying;
        document.getElementById('playBtn').textContent = isPlaying ? 'â¸ï¸' : 'â–¶ï¸';
    }

    function playTrack(index) {
        if (index < 0 || index >= currentPlaylist.length) {
            isPlaying = false;
            document.getElementById('playBtn').textContent = 'â–¶ï¸';
            return;
        }
        stopSpeaking(); // Ensure no speech synthesis is active
        currentTrackIndex = index;
        audioPlayer.src = currentPlaylist[index];
        audioPlayer.play();
        isPlaying = true;
        document.getElementById('playBtn').textContent = 'â¸ï¸';
        updateHighlight(index);
    }
    
    function playNextVerse() { playTrack(currentTrackIndex + 1); }
    function playPrevVerse() { playTrack(currentTrackIndex - 1); }
    function repeatCurrentAyah() { playTrack(currentTrackIndex); }

    function updateHighlight(index) {
        document.querySelectorAll('.verse-container').forEach(v => v.classList.remove('playing-verse'));
        if (index > -1 && index < currentPlaylist.length) {
            const verseEl = document.querySelector(`[data-verse-index='${index}']`);
            if (verseEl) {
                verseEl.classList.add('playing-verse');
                verseEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }
    }
    
    async function toggleRecording(button, verseIndex) {
        if (isCurrentlyRecording) {
            if (mediaRecorder && mediaRecorder.state !== 'inactive') {
                mediaRecorder.stop();
            }
        } else {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                mediaRecorder = new MediaRecorder(stream);
                
                mediaRecorder.ondataavailable = event => {
                    if (event.data.size > 0) { // Only push if there's data
                        audioChunks.push(event.data);
                    }
                };

                mediaRecorder.onstop = () => {
                    isCurrentlyRecording = false;
                    button.textContent = 'ğŸ¤';
                    button.classList.remove('recording-active');
                    const blob = new Blob(audioChunks, { type: 'audio/wav' }); // WAV format for better compatibility
                    const audioUrl = URL.createObjectURL(blob);
                    
                    const verseEl = document.querySelector(`[data-verse-index='${verseIndex}']`);
                    const surahNum = verseEl.dataset.surahNumber;
                    const ayahNum = verseEl.dataset.ayahNumber;
                    
                    document.getElementById(`playback-controls-${verseIndex}`).classList.remove('hidden');
                    document.getElementById(`playback-controls-${verseIndex}`).innerHTML = `
                        <div class="flex justify-center flex-wrap gap-2">
                            <button onclick="markVerseStatus(this, ${surahNum}, ${ayahNum}, 'mastered')" class="bg-green-500 text-white text-sm py-1 px-3 rounded-md">Ø£ØªÙ‚Ù†ØªÙ‡Ø§ (+15)</button>
                            <button onclick="markVerseStatus(this, ${surahNum}, ${ayahNum}, 'review')" class="bg-amber-500 text-white text-sm py-1 px-3 rounded-md">Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</button>
                            <button onclick="playRecordedAudio('${audioUrl}')" class="bg-blue-500 text-white text-sm py-1 px-3 rounded-md">Ø§Ø³Ù…Ø¹ ØµÙˆØªÙŠ</button>
                        </div>`;
                    
                    stream.getTracks().forEach(track => track.stop()); // Release camera and microphone resources
                    audioChunks = []; // Clear chunks for next recording
                };
                
                isCurrentlyRecording = true;
                button.textContent = 'â¹ï¸';
                button.classList.add('recording-active');
                mediaRecorder.start();

            } catch (err) {
                console.error("Mic error:", err);
                showNotification('Ù„Ù… ØªØ³Ù…Ø­ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† Ø£Ùˆ Ù‡Ù†Ø§Ùƒ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø¬Ù‡Ø§Ø².', 'error');
                isCurrentlyRecording = false;
                button.textContent = 'ğŸ¤';
                button.classList.remove('recording-active');
            }
        }
    }

    function playRecordedAudio(url) {
        stopAudio();
        audioPlayer.src = url;
        audioPlayer.play();
    }
    
    function markVerseStatus(button, surahNum, ayahNum, status) {
        const hifzKey = `${surahNum}-${ayahNum}`;
        const oldStatus = userState.hifzProgress[hifzKey];
        
        userState.hifzProgress[hifzKey] = status;
        
        if (status === 'mastered' && oldStatus !== 'mastered') {
            updatePoints(15, true);
            showNotification('Ù…Ø§ Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡! Ø¢ÙŠØ© Ù…ØªÙ‚Ù†Ø©', 'success');
        } else if (status === 'review') {
            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¢ÙŠØ© Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©', 'info');
        }
        
        button.parentElement.innerHTML = '<p class="text-sm text-gray-600 p-1">ØªÙ… Ø§Ù„Ø­ÙØ¸!</p>';
        saveUserData();
        loadHomePage(); // Update home page to show updated mastered count
        loadSurah(); // Refresh current surah to show new visual states (mastered/review)
    }
    

    function showGuide(guideType) {
        currentGuideData = (guideType === 'wudu') ? wuduSteps : salatSteps;
        currentGuideStep = 0;
        document.getElementById('guideModal').classList.remove('hidden');
        renderGuideStep();
    }

    function renderGuideStep() {
        const step = currentGuideData[currentGuideStep];
        document.getElementById('guideModal').innerHTML = `<div class="guide-content">
            <p class="text-sm font-bold text-gray-500 mb-4">Ø§Ù„Ù’Ø®ÙØ·Ù’ÙˆÙØ©Ù ${currentGuideStep + 1}/${currentGuideData.length}</p>
            <div class="text-8xl mb-6">${step.emoji}</div>
            <p class="text-xl leading-relaxed">${step.text}</p>
            ${currentGuideStep === currentGuideData.length - 1 ?
                `<button onclick="finishGuide()" class="bg-blue-500 text-white w-full py-3 mt-4 rounded-lg font-bold">Ø£ÙÙ†Ù’Ù‡ÙÙŠÙ’ØªÙ! (+50)</button>` :
                `<button onclick="nextGuideStep()" class="bg-blue-500 text-white w-full py-3 mt-4 rounded-lg font-bold">Ø§Ù„ØªÙ‘ÙØ§Ù„ÙÙŠ</button>`
            }<button onclick="closeGuide()" class="text-gray-500 mt-4">Ø¥ÙØºÙ’Ù„ÙØ§Ù‚</button>
        </div>`;
    }

    function nextGuideStep() {
        if (currentGuideStep < currentGuideData.length - 1) {
            currentGuideStep++;
            renderGuideStep();
        }
    }

    function finishGuide() {
        const type = (currentGuideData === wuduSteps) ? 'wudu' : 'salat';
        if (!userState.guidesCompleted.includes(type)) {
            userState.guidesCompleted.push(type);
            updatePoints(50, true);
        }
        closeGuide();
    }

    function closeGuide() {
        const modal = document.getElementById('guideModal');
        if(modal) modal.classList.add('hidden');
        currentGuideData = null;
    }

    function showStoryModal(storyId) {
        const story = storiesData.find(s => s.id === storyId);
        if (!story) return;
        
        // Increment stories read count only if it's a new story read
        if (!userState.storiesRead) userState.storiesRead = 0; // Initialize if not set
        userState.storiesRead++;
        
        checkAndUnlockAchievements(); // Check if this unlocks an achievement
        saveUserData(); // Save the updated count
        
        const modal = document.createElement('div');
        modal.className = 'fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[99] p-4';
        modal.onclick = (e) => { if (e.target === modal) modal.remove(); };
        modal.innerHTML = `<div class="bg-white rounded-2xl p-6 max-w-2xl w-full text-center">
            <div class="text-6xl mb-4">${story.icon}</div>
            <h3 class="text-3xl font-bold">${story.title} Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…</h3>
            <p class="text-xl leading-loose my-6">${story.content}</p>
            <button onclick="this.closest('.fixed').remove()" class="bg-red-500 text-white py-2 px-6 rounded-lg">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>`;
        document.body.appendChild(modal);
    }
    
    function showNameMeaning(index) {
        const item = asmaAlHusnaData[index];
        const isLearned = userState.learnedAsma.includes(index);
        const modal = document.createElement('div');
        modal.className = 'fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[99] p-4';
        modal.onclick = (e) => { if (e.target === modal) modal.remove(); };
        modal.innerHTML = `<div class="bg-white rounded-2xl p-6 max-w-sm w-full text-center">
            <h3 class="text-4xl font-bold text-teal-600">${item.name}</h3>
            <p class="text-lg my-6">${item.meaning}</p>
            <button onclick="learnName(${index}, this)" class="w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 disabled:bg-gray-400" ${isLearned ? 'disabled' : ''}>
                ${isLearned ? 'ğŸ‘ Ù„Ù‚Ø¯ ØªØ¹Ù„Ù…ØªÙ‡' : 'ØªØ¹Ù„Ù…Øª Ø§Ù„Ø§Ø³Ù…! (+5)'}
            </button>
            <button onclick="this.closest('.fixed').remove()" class="mt-4 w-full bg-gray-300 text-gray-800 py-2 rounded-lg">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>`;
        document.body.appendChild(modal);
    }
    
    function learnName(index, button) {
        if (!userState.learnedAsma.includes(index)) {
            userState.learnedAsma.push(index);
            updatePoints(5, true); // Add 5 points for each learned name
            if(button) {
                button.disabled = true;
                button.textContent = 'ğŸ‘ Ù„Ù‚Ø¯ ØªØ¹Ù„Ù…ØªÙ‡';
            }
            loadAsmaSection(); // Refresh the Asma section to show the checkmark
            // Close the modal after a short delay
            setTimeout(() => {
                button.closest('.fixed').remove();
            }, 500);
        }
    }
    
    function showAvatarSelection() {
        const avatars = ['ğŸ‘§', 'ğŸ‘¦', 'ğŸ˜Š', 'ğŸ¥°', 'ğŸ§‘â€ğŸ“', 'ğŸ¦¸â€â™€ï¸', 'ğŸ¦¸â€â™‚ï¸', 'ğŸ’–'];
        const modal = document.createElement('div');
        modal.className = 'fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[99] p-4';
        modal.onclick = (e) => { if (e.target === modal) modal.remove(); };
        modal.innerHTML = `<div class="bg-white rounded-2xl p-6 max-w-md w-full text-center">
            <h3 class="text-2xl font-bold mb-6">Ø§Ø®ØªØ± ØµÙˆØ±ØªÙƒ Ø§Ù„Ø±Ù…Ø²ÙŠØ©</h3>
            <div class="grid grid-cols-4 gap-4">${avatars.map(av => `
                <div onclick="selectAvatar('${av}', this)" class="text-5xl cursor-pointer bg-gray-100 p-2 rounded-full hover:bg-yellow-200">${av}</div>`).join('')}
            </div>
        </div>`;
        document.body.appendChild(modal);
    }
    
    function selectAvatar(avatar, element) {
        userState.childAvatar = avatar;
        saveUserData();
        loadProfileSection();
        element.closest('.fixed').remove();
    }
    
    function checkAndUnlockAchievements() {
        achievementsData.forEach(ach => {
            if (!userState.unlockedAchievements.includes(ach.id) && ach.condition(userState)) {
                userState.unlockedAchievements.push(ach.id);
                showNotification(`ÙˆØ³Ø§Ù… Ø¬Ø¯ÙŠØ¯! "${ach.title}" ${ach.icon}`, 'info');
            }
        });
        saveUserData(); // Save unlocked achievements
    }

    async function goToVerse(surahNum, ayahNum) {
        showSection('quran');
        // Wait for the Quran section to render and the surah to load
        await new Promise(resolve => setTimeout(resolve, 100)); 
        const surahSelect = document.getElementById('surahSelect');
        if (surahSelect && surahSelect.value != surahNum) {
            surahSelect.value = surahNum;
            await loadSurah(); // Load the selected surah
            await new Promise(resolve => setTimeout(resolve, 200)); // Give time for content to render
        }
        
        // Scroll to the specific verse
        const verseEl = document.querySelector(`[data-ayah-number="${ayahNum}"][data-surah-number="${surahNum}"]`);
        if(verseEl) {
            verseEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
            // Add a temporary visual highlight for the verse
            verseEl.classList.add('playing-verse'); 
            setTimeout(() => verseEl.classList.remove('playing-verse'), 2000); // Remove highlight after 2 seconds
        }
    }
    
    // --- UTILITY & HELPER FUNCTIONS ---
    function stopAudio() {
        audioPlayer.pause();
        audioPlayer.src = '';
        isPlaying = false;
        const btn = document.getElementById('playBtn');
        if (btn) btn.textContent = 'â–¶ï¸';
        updateHighlight(-1); // Remove highlight from any playing verse
    }
    
    function speakText(text) {
        stopSpeaking(); // Stop any ongoing speech
        stopAudio(); // Stop any ongoing audio playback
        if ('speechSynthesis' in window) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ar-SA'; // Arabic language
            // You might want to select a specific voice if available for Arabic
            // const voices = window.speechSynthesis.getVoices();
            // const arabicVoice = voices.find(voice => voice.lang === 'ar-SA');
            // if (arabicVoice) utterance.voice = arabicVoice;

            window.speechSynthesis.speak(utterance);
        } else {
            showNotification('Ø§Ù„ØªØ­Ø¯Ø« ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ… ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØµÙØ­.', 'error');
        }
    }
    
    function stopSpeaking() {
        if ('speechSynthesis' in window && window.speechSynthesis.speaking) {
            window.speechSynthesis.cancel(); // Cancel any speech currently in progress
        }
    }
    
    function showNotification(message, type) {
        const el = document.createElement('div');
        const bgColor = type === 'success' ? 'bg-green-500' : (type === 'info' ? 'bg-blue-500' : (type === 'warning' ? 'bg-yellow-500' : 'bg-red-500'));
        el.className = `fixed top-20 right-4 ${bgColor} text-white px-6 py-4 rounded-lg shadow-lg z-[101] opacity-0 transition-opacity duration-500`;
        el.textContent = message;
        document.body.appendChild(el);
        // Fade in animation
        setTimeout(() => el.style.opacity = '1', 50);
        // Fade out and remove
        setTimeout(() => {
            el.style.opacity = '0';
            el.addEventListener('transitionend', () => el.remove());
        }, 3500);
    }

    // --- GAME FUNCTIONS ---
    function playSound(audioObject) {
        // Ensure the sound plays from the beginning even if it's already playing or paused
        audioObject.currentTime = 0; 
        audioObject.play().catch(e => console.error("Audio play failed:", e)); // Catch potential errors, e.g., user interaction required
    }

    function stopGameAudio() {
        gameSoundPlay.pause();
        gameSoundPlay.src = '';
    }

    function showGamesMenu() {
        stopGameAudio(); // Stop any Quran audio playing during games
        document.getElementById('game-board').classList.add('hidden');
        document.getElementById('games-menu').classList.remove('hidden');
    }

    // --- EMOJI GAME ---
    function startEmojiGame() {
        document.getElementById('games-menu').classList.add('hidden');
        document.getElementById('game-board').classList.remove('hidden');
        renderEmojiQuestion(0);
    }

    function renderEmojiQuestion(index) {
        const game = surahEmojiGameData[index];
        document.getElementById('game-board').innerHTML = `
            <div class="text-left mb-4">
                <button onclick="showGamesMenu()" class="bg-gray-500 text-white py-1 px-4 rounded-lg hover:bg-gray-600">â†’ Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
            </div>
            <h3 class="text-xl font-bold text-center mb-4">Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø³ÙˆØ±Ø©ØŸ</h3>
            <div class="text-6xl text-center mb-6">${game.emojis}</div>
            <div class="space-y-3">${game.options.map(opt => `<button class="game-option-btn" onclick="checkEmojiAnswer(this, '${opt}' === '${game.answer}', ${index})">${opt}</button>`).join('')}</div>
            <div id="game-feedback" class="mt-4 text-center"></div>`;
    }

    function checkEmojiAnswer(button, isCorrect, index) {
        const feedbackDiv = document.getElementById('game-feedback');
        document.querySelectorAll('.game-option-btn').forEach(b => b.disabled = true); // Disable all options
        if (isCorrect) {
            button.classList.add('!bg-green-200');
            feedbackDiv.innerHTML = '<p class="text-green-600 font-bold">Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! +15 Ù†Ù‚Ø·Ø©</p>';
            updatePoints(15, true);
            playSound(gameSoundCorrect); // Play correct sound
            const nextIndex = index + 1;
            if (nextIndex < surahEmojiGameData.length) {
                feedbackDiv.innerHTML += `<button onclick="renderEmojiQuestion(${nextIndex})" class="mt-2 bg-blue-500 text-white px-4 py-2 rounded">Ø§Ù„ØªØ§Ù„ÙŠ</button>`;
            } else {
                feedbackDiv.innerHTML += '<p class="font-bold mt-2">Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!</p><button onclick="showGamesMenu()" class="mt-2 bg-gray-500 text-white px-4 py-2 rounded">Ø§Ù„Ø¹ÙˆØ¯Ø©</button>';
            }
        } else {
            button.classList.add('!bg-red-200');
            feedbackDiv.innerHTML = '<p class="text-red-600 font-bold">Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©!</p><button onclick="showGamesMenu()" class="mt-2 bg-gray-500 text-white px-4 py-2 rounded">Ø§Ù„Ø¹ÙˆØ¯Ø©</button>';
            playSound(gameSoundIncorrect); // Play incorrect sound
        }
    }
    
    // --- COMPLETE THE AYAH GAME ---
    async function startCompleteTheAyahGame() {
        const gameBoard = document.getElementById('game-board');
        gameBoard.innerHTML = '<p class="text-center py-10">Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø³Ø¤Ø§Ù„...</p>';
        document.getElementById('games-menu').classList.add('hidden');
        gameBoard.classList.remove('hidden');
        try {
            // Fetch metadata first if not already loaded
            if (allSurahsMeta.length === 0) {
                const meta = await fetch('https://api.alquran.cloud/v1/meta');
                const metaData = await meta.json();
                allSurahsMeta = metaData.data.surahs.references;
            }
            
            let ayahs = [];
            let selectedSurah = null;
            let questionAyahText = '';
            let correctAyahText = '';

            // Select a surah that has enough ayahs for the game
            while (ayahs.length < 4) {
                 const randomSurahIndex = Math.floor(Math.random() * allSurahsMeta.length);
                 selectedSurah = allSurahsMeta[randomSurahIndex];
                 const response = await fetch(`https://api.alquran.cloud/v1/surah/${selectedSurah.number}`);
                 const data = await response.json();
                 ayahs = data.data.ayahs;
            }

            // Select a question and answer ayah (avoiding the last few ayahs to ensure there's a next one)
            const questionIndex = Math.floor(Math.random() * (ayahs.length - 2)); // Ensure index + 1 is valid
            questionAyahText = ayahs[questionIndex].text;
            correctAyahText = ayahs[questionIndex + 1].text;
            
            let options = [correctAyahText];
            // Get other ayahs to use as incorrect options
            let otherAyahs = ayahs.slice(0, questionIndex).concat(ayahs.slice(questionIndex + 2)).map(a => a.text);
            
            // Add incorrect options
            while (options.length < 4 && otherAyahs.length > 0) {
                let randomIndex = Math.floor(Math.random() * otherAyahs.length);
                options.push(otherAyahs.splice(randomIndex, 1)[0]);
            }
            options.sort(() => Math.random() - 0.5); // Shuffle options

            const optionsHTML = options.map(opt => {
                const isCorrect = (opt === correctAyahText);
                return `<button class="game-option-btn" onclick="checkAyahAnswer(this, ${isCorrect})">${opt}</button>`;
            }).join('');

            gameBoard.innerHTML = `
                <div class="text-left mb-4">
                    <button onclick="showGamesMenu()" class="bg-gray-500 text-white py-1 px-4 rounded-lg hover:bg-gray-600">â†’ Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
                </div>
                <h3 class="text-xl font-bold text-center mb-2">Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¢ÙŠØ© Ø§Ù„ØªØ§Ù„ÙŠØ©ØŸ</h3>
                <p class="text-center text-lg bg-yellow-100 p-4 rounded-lg mb-6 quran-text">${questionAyahText}</p>
                <div class="space-y-3">${optionsHTML}</div>
                <div id="game-feedback" class="mt-4 text-center"></div>`;
        } catch (e) {
            console.error("Game Error:", e);
            gameBoard.innerHTML = '<p class="text-red-500 text-center">Ø®Ø·Ø£ ÙÙŠ ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ù„Ø¹Ø¨Ø©. Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹.</p><button onclick="showGamesMenu()" class="mt-2 bg-gray-500 text-white px-4 py-2 rounded">Ø§Ù„Ø¹ÙˆØ¯Ø©</button>';
        }
    }

    function checkAyahAnswer(button, isCorrect) {
        const feedbackDiv = document.getElementById('game-feedback');
        document.querySelectorAll('.game-option-btn').forEach(b => b.disabled = true); // Disable all options
        if (isCorrect) {
            button.classList.add('!bg-green-200');
            feedbackDiv.innerHTML = '<p class="text-green-600 font-bold">Ù…Ù…ØªØ§Ø²! +20 Ù†Ù‚Ø·Ø©</p>';
            updatePoints(20, true);
            playSound(gameSoundCorrect); // Play correct sound
            feedbackDiv.innerHTML += '<button onclick="startCompleteTheAyahGame()" class="mt-2 bg-blue-500 text-white px-4 py-2 rounded">Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯</button>';
        } else {
            button.classList.add('!bg-red-200');
            feedbackDiv.innerHTML = '<p class="text-red-600 font-bold">Ø¥Ø¬Ø§Ø¨Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø©.</p><button onclick="showGamesMenu()" class="mt-2 bg-gray-500 text-white px-4 py-2 rounded">Ø§Ù„Ø¹ÙˆØ¯Ø©</button>';
            playSound(gameSoundIncorrect); // Play incorrect sound
        }
    }

    // --- LISTEN AND GUESS GAME ---
    async function startListenAndGuessGame() {
        const board = document.getElementById('game-board');
        board.innerHTML = '<p class="text-center py-10">Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø³Ø¤Ø§Ù„...</p>';
        document.getElementById('games-menu').classList.add('hidden');
        board.classList.remove('hidden');
        try {
            // Fetch metadata if not already loaded
            if (allSurahsMeta.length === 0) {
                const meta = await fetch('https://api.alquran.cloud/v1/meta');
                const metaData = await meta.json();
                allSurahsMeta = metaData.data.surahs.references;
            }

            // Select a random surah
            const randomSurah = allSurahsMeta[Math.floor(Math.random() * allSurahsMeta.length)];
            guessSurahGameData.correctSurahNumber = randomSurah.number;
            guessSurahGameData.currentSurahName = randomSurah.name; // Store name for later
            
            // Fetch ayahs for the selected surah to pick a random ayah
            const surahResponse = await fetch(`https://api.alquran.cloud/v1/surah/${randomSurah.number}`);
            const surahData = await response.json();
            const ayahs = surahData.data.ayahs;
            
            if (ayahs.length === 0) throw new Error("No ayahs found for this surah.");

            // Select a random ayah (e.g., from the first 50 to ensure variety and avoid very long ayahs for short clips)
            const randomAyahIndex = Math.floor(Math.random() * Math.min(ayahs.length, 50)); 
            const randomAyah = ayahs[randomAyahIndex];
            
            guessSurahGameData.currentAyahText = randomAyah.text;
            guessSurahGameData.currentAyahNumber = randomAyah.numberInSurah;
            
            // Construct audio URL for the chosen ayah (using Alafasy reciter)
            const surahNumPadded = String(randomSurah.number).padStart(3, '0');
            const ayahNumPadded = String(randomAyah.numberInSurah).padStart(3, '0');

            // Get the selected reciter to construct the correct URL
            const reciterValue = document.getElementById('reciterSelect').value; // Get selected reciter from the Quran screen
            let reciterFolder;
            if (reciterValue === "ar.alafasy") {
                reciterFolder = "Alafasy_64kbps";
            } else if (reciterValue === "ar.yasin_alzain") {
                // Corrected folder name for Yasin Al-Jazairi based on research.
                reciterFolder = "YaseenAlJazairi_64kbps"; 
            } else if (reciterValue === "ar.sudais") { 
                reciterFolder = "Sudais_64kbps";
            } else if (reciterValue === "ar.ajmy") { 
                reciterFolder = "Ajamy_64kbps";
            } else if (reciterValue === "ar.maheralmuaiqly") { 
                reciterFolder = "MaherAlMuaiqly_64kbps";
            } else if (reciterValue === "ar.minshawi_mujji") { 
                reciterFolder = "Minshawi_Mujawwad_64kbps";
            } else if (reciterValue === "ar.saad_alghamdi") { 
                reciterFolder = "AlGhamdi_64kbps";
            }
            else {
                reciterFolder = "Alafasy_64kbps"; // Default to Alafasy
            }
            guessSurahGameData.audioUrl = `https://everyayah.com/data/${reciterFolder}/${surahNumPadded}${ayahNumPadded}.mp3`;
            
            // Prepare options
            let options = [randomSurah.name];
            while (options.length < 4) {
                const wrongSurah = allSurahsMeta[Math.floor(Math.random() * allSurahsMeta.length)];
                if (!options.includes(wrongSurah.name)) {
                    options.push(wrongSurah.name);
                }
            }
            options.sort(() => Math.random() - 0.5); // Shuffle options

            const optionsHTML = options.map(o => 
                `<button class="game-option-btn" onclick="checkGuessSurahAnswer(this, '${o.replace(/'/g, "\\'")}')">${o}</button>`
            ).join('');

            board.innerHTML = `
                <div class="text-left mb-4">
                    <button onclick="showGamesMenu()" class="bg-gray-500 text-white py-1 px-4 rounded-lg hover:bg-gray-600">â†’ Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
                </div>
                <h3 class="text-xl font-bold text-center mb-4">Ø§Ø³ØªÙ…Ø¹ ÙˆØ®Ù…Ù† Ø§Ù„Ø³ÙˆØ±Ø©</h3>
                <div class="text-center mb-6">
                    <button onclick="playCurrentAyahAudio()" class="bg-green-500 text-white py-3 px-8 rounded-full text-2xl">ğŸ”Š Ø§Ø³ØªÙ…Ø¹</button>
                </div>
                <div class="p-4 bg-yellow-100 rounded-lg mb-6 text-center quran-text">
                    <p>Ø§Ù„Ø¢ÙŠØ©: "${randomAyah.text}"</p>
                    <p class="text-sm">(${randomSurah.name}: ${randomAyah.numberInSurah})</p>
                </div>
                <div class="space-y-3">${optionsHTML}</div>
                <div id="game-feedback" class="mt-4 text-center"></div>`;
        } catch (e) {
            console.error("Listen and Guess Game Error:", e);
            board.innerHTML = '<p class="text-red-500 text-center">Ø®Ø·Ø£ ÙÙŠ ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ù„Ø¹Ø¨Ø©. Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹.</p><button onclick="showGamesMenu()" class="mt-2 bg-gray-500 text-white px-4 py-2 rounded">Ø§Ù„Ø¹ÙˆØ¯Ø©</button>';
        }
    }

    function playCurrentAyahAudio() {
        if (guessSurahGameData.audioUrl) {
            gameSoundPlay.src = guessSurahGameData.audioUrl;
            gameSoundPlay.play();
        }
    }

    function checkGuessSurahAnswer(btn, answer) {
        document.querySelectorAll('.game-option-btn').forEach(b => b.disabled = true); // Disable all options
        const feedback = document.getElementById('game-feedback');
        if (answer === guessSurahGameData.currentSurahName) { // Use stored name
            btn.classList.add('!bg-green-200');
            feedback.innerHTML = `<p class="text-green-600 font-bold">ØµØ­ÙŠØ­! Ø§Ù„Ø³ÙˆØ±Ø© Ù‡ÙŠ ${guessSurahGameData.currentSurahName} (+25 Ù†Ù‚Ø·Ø©)</p>`;
            updatePoints(25, true);
            playSound(gameSoundCorrect); // Play correct sound
            feedback.innerHTML += '<button onclick="startListenAndGuessGame()" class="mt-2 bg-blue-500 text-white px-4 py-2 rounded">Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯</button>';
        } else {
            btn.classList.add('!bg-red-200');
            feedback.innerHTML = `<p class="text-red-600 font-bold">Ø®Ø·Ø£. Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ ${guessSurahGameData.currentSurahName}</p>`;
            playSound(gameSoundIncorrect); // Play incorrect sound
            feedback.innerHTML += '<button onclick="showGamesMenu()" class="mt-2 bg-gray-500 text-white px-4 py-2 rounded">Ø§Ù„Ø¹ÙˆØ¯Ø©</button>';
        }
    }
</script>

</body>
</html>